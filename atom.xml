<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yancey</title>
  
  
  <link href="https://lyblogs.xyz/atom.xml" rel="self"/>
  
  <link href="https://lyblogs.xyz/"/>
  <updated>2024-09-14T07:22:01.702Z</updated>
  <id>https://lyblogs.xyz/</id>
  
  <author>
    <name>Yancey</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>é‡æ„çš„ä¾‹å­</title>
    <link href="https://lyblogs.xyz/posts/2944164656/"/>
    <id>https://lyblogs.xyz/posts/2944164656/</id>
    <published>2024-09-14T07:11:01.000Z</published>
    <updated>2024-09-14T07:22:01.702Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‹é¢æ˜¯ã€Šé‡æ„2ã€‹ä¸­ç¬¬ä¸€ç« çš„ä¸€ä¸ªä¾‹å­ï¼š</p><p>åˆå§‹æ•°æ®<code>invoice.json</code></p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="attr">"customer"</span>:<span class="string">"BigCo"</span>,</span><br><span class="line">  <span class="attr">"performances"</span>:[</span><br><span class="line">    {</span><br><span class="line">      <span class="attr">"playID"</span>:<span class="string">"hamlet"</span>,</span><br><span class="line">      <span class="attr">"audience"</span>:<span class="number">55</span></span><br><span class="line">    },</span><br><span class="line">    {</span><br><span class="line">      <span class="attr">"playID"</span>:<span class="string">"as-like"</span>,</span><br><span class="line">      <span class="attr">"audience"</span>:<span class="number">35</span></span><br><span class="line">    },</span><br><span class="line">    {</span><br><span class="line">      <span class="attr">"playID"</span>:<span class="string">"othello"</span>,</span><br><span class="line">      <span class="attr">"audience"</span>:<span class="number">40</span></span><br><span class="line">    }</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>plays.json</code>:</p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="attr">"hamlet"</span>: {<span class="attr">"name"</span>: <span class="string">"Hamlet"</span>, <span class="attr">"type"</span>: <span class="string">"tragedy"</span>},</span><br><span class="line">  <span class="attr">"as-like"</span>: {<span class="attr">"name"</span>: <span class="string">"As You Like It"</span>, <span class="attr">"type"</span>: <span class="string">"comedy"</span>},</span><br><span class="line">  <span class="attr">"othello"</span>: {<span class="attr">"name"</span>: <span class="string">"Othello"</span>, <span class="attr">"type"</span>: <span class="string">"tragedy"</span>}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸‹é¢æ˜¯åˆå§‹çš„ä»£ç ï¼Œè¯¥ä»£ç çš„ä½œç”¨æ˜¯æ ¹æ®å‰§ç›®çš„ç±»åˆ«ä¸åŒï¼Œæ‰“å°è´¦å•ï¼Œå¹¶æ ¹æ®æ‰“æŠ˜çš„è§„åˆ™è®¡ç®—é‡‘é¢å’Œç§¯åˆ†ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰“å°è´¦å•è¯¦æƒ…</span></span><br><span class="line"><span class="keyword">const</span> invoice = <span class="built_in">require</span>(<span class="string">"./invoices.json"</span>);</span><br><span class="line"><span class="keyword">const</span> plays = <span class="built_in">require</span>(<span class="string">"./plays.json"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">statement</span>(<span class="params">invoice, plays</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> totalAmount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> volumeCredits = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="string">`Statement for <span class="subst">${invoice.customer}</span>\n`</span>;</span><br><span class="line">    <span class="keyword">const</span> format = <span class="keyword">new</span> <span class="built_in">Intl</span>.NumberFormat(<span class="string">"en-Us"</span>, {</span><br><span class="line">        <span class="attr">style</span>: <span class="string">"currency"</span>, <span class="attr">currency</span>: <span class="string">"USD"</span>,</span><br><span class="line">        <span class="attr">minimumFractionDigits</span>:<span class="number">2</span></span><br><span class="line">    }).format;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> perf <span class="keyword">of</span> invoice.performances){</span><br><span class="line">        <span class="keyword">const</span> play = plays[perf.playID];</span><br><span class="line">        <span class="keyword">let</span> thisAmount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span>(play.type){</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"tragedy"</span>:</span><br><span class="line">                thisAmount = <span class="number">40000</span>;</span><br><span class="line">                <span class="keyword">if</span>(perf.audience &gt; <span class="number">30</span>){</span><br><span class="line">                    thisAmount += <span class="number">1000</span> * (perf.audience - <span class="number">30</span>)</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"comedy"</span>:</span><br><span class="line">                thisAmount = <span class="number">30000</span>;</span><br><span class="line">                <span class="keyword">if</span>(perf.audience &gt; <span class="number">20</span>){</span><br><span class="line">                    thisAmount += <span class="number">10000</span> + <span class="number">500</span> * (perf.audience - <span class="number">20</span>);</span><br><span class="line">                }</span><br><span class="line">                thisAmount += <span class="number">300</span> * perf.audience;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`unknown type: <span class="subst">${play.type}</span>`</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add volume credits</span></span><br><span class="line">        volumeCredits += <span class="built_in">Math</span>.max(perf.audience - <span class="number">30</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="comment">// add extra credit for every ten comedy attendees</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"comedy"</span> === play.type) volumeCredits += <span class="built_in">Math</span>.floor(perf.audience / <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// print line for this order</span></span><br><span class="line">        result +=  <span class="string">`<span class="subst">${play.name}</span>: <span class="subst">${format(thisAmount / <span class="number">100</span> )}</span> (<span class="subst">${perf.audience}</span> seats)\n`</span>;</span><br><span class="line">        totalAmount += thisAmount;</span><br><span class="line">    }</span><br><span class="line">    result += <span class="string">`Amount owed is <span class="subst">${format(totalAmount/<span class="number">100</span>)}</span>\n`</span>;</span><br><span class="line">    result += <span class="string">`You earned <span class="subst">${volumeCredits}</span> credits\n`</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="string">'Statement for BigCo\n'</span> +</span><br><span class="line">    <span class="string">'Hamlet: $650.00 (55 seats)\n'</span> +</span><br><span class="line">    <span class="string">'As You Like It: $580.00 (35 seats)\n'</span> +</span><br><span class="line">    <span class="string">'Othello: $500.00 (40 seats)\n'</span> +</span><br><span class="line">    <span class="string">'Amount owed is $1,730.00\n'</span> +</span><br><span class="line">    <span class="string">'You earned 47 credits\n'</span></span><br><span class="line"><span class="built_in">console</span>.log(statement(invoice, plays)===result);</span><br></pre></td></tr></tbody></table></figure><p>ä¸‹é¢æ˜¯é‡æ„ä¹‹åçš„ä»£ç ï¼Œåœ¨åˆå§‹ä»£ç çš„åŸºç¡€ä¸Šå¢æ·»äº†ä¸€ä¸ªæ‰“å°<code>Html</code>æ ¼å¼è´¦å•çš„åŠŸèƒ½ã€‚</p><p><code>print.js</code></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> createStatementDatav2  <span class="keyword">from</span> <span class="string">"./createStatementDatav2.js"</span>;</span><br><span class="line"><span class="keyword">import</span> invoice <span class="keyword">from</span> <span class="string">'./invoices.json'</span> assert { <span class="attr">type</span>: <span class="string">"json"</span>};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">statement</span>(<span class="params">invoice, plays</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> renderHtml(createStatementDatav2(invoice));</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">htmlStatement</span>(<span class="params">invoice, plays</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> renderHtml(createStatementDatav2(invoice))</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderHtml</span>(<span class="params">data</span>)</span>{</span><br><span class="line">    <span class="keyword">let</span> result = <span class="string">`&lt;h1&gt;Statement for <span class="subst">${data.customer}</span>&lt;/h1&gt;\n`</span>;</span><br><span class="line">    result += <span class="string">"&lt;table&gt;\n"</span>;</span><br><span class="line">    result += <span class="string">"&lt;tr&gt;&lt;th&gt;play&lt;/th&gt;&lt;th&gt;seats&lt;/th&gt;&lt;th&gt;cost&lt;/th&gt;&lt;/tr&gt;"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> perf <span class="keyword">of</span> data.performances){</span><br><span class="line">        result += <span class="string">` &lt;tr&gt;&lt;td&gt;<span class="subst">${perf.play.name}</span>&lt;/td&gt;&lt;td&gt;<span class="subst">${perf.audience}</span>&lt;/td&gt;`</span>;</span><br><span class="line">        result += <span class="string">`&lt;td&gt;<span class="subst">${usd(perf.amount)}</span>&lt;/td&gt;&lt;/tr&gt;\n`</span>;</span><br><span class="line">    }</span><br><span class="line">    result += <span class="string">"&lt;/table&gt;\n"</span>;</span><br><span class="line">    result += <span class="string">`&lt;p&gt;Amount owed is &lt;em&gt;<span class="subst">${usd(data.totalAmount)}</span>&lt;/em&gt;&lt;/p&gt;\n`</span>;</span><br><span class="line">    result += <span class="string">`&lt;p&gt;You earned &lt;em&gt;<span class="subst">${data.totalVolumeCredits}</span>&lt;/em&gt; credits&lt;/p&gt;\n`</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderPlainText</span>(<span class="params">data</span>)</span>{</span><br><span class="line">    <span class="keyword">let</span> result = <span class="string">`Statement for <span class="subst">${data.customer}</span>\n`</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> perf <span class="keyword">of</span> data.performances){</span><br><span class="line">        <span class="comment">// print line for this order</span></span><br><span class="line">        result += <span class="string">` <span class="subst">${perf.play.name}</span>: <span class="subst">${usd(perf.amount)}</span> (<span class="subst">${perf.audience}</span> seats)\n`</span>;</span><br><span class="line">    }</span><br><span class="line">    result += <span class="string">`Amount owed is <span class="subst">${usd(data.totalAmount)}</span>\n`</span>;</span><br><span class="line">    result += <span class="string">`You earned <span class="subst">${data.totalVolumeCredits}</span> credits\n`</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">usd</span>(<span class="params">aNumber</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Intl</span>.NumberFormat(<span class="string">"en-US"</span>,</span><br><span class="line">        {<span class="attr">style</span>: <span class="string">"currency"</span>, <span class="attr">currency</span>: <span class="string">"USD"</span>,</span><br><span class="line">        <span class="attr">minimumFractionDigits</span>: <span class="number">2</span>}).format(aNumber);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="string">"Statement for BigCo\n"</span> +</span><br><span class="line">    <span class="string">" Hamlet: $650.00 (55 seats)\n"</span> +</span><br><span class="line">    <span class="string">" As You Like It: $580.00 (35 seats)\n"</span> +</span><br><span class="line">    <span class="string">" Othello: $500.00 (40 seats)\n"</span> +</span><br><span class="line">    <span class="string">"Amount owed is $1,730.00\n"</span> +</span><br><span class="line">    <span class="string">"You earned 47 credits\n"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//console.log(statement(invoice) === result);</span></span><br><span class="line"><span class="built_in">console</span>.log(statement(invoice));</span><br></pre></td></tr></tbody></table></figure><p><code>createStatementData.js</code></p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plays <span class="keyword">from</span> <span class="string">'./plays.json'</span> assert { <span class="attr">type</span>: <span class="string">"json"</span> };</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">createStatementDatav2</span> (<span class="params">invoice</span>)</span>{</span><br><span class="line">    <span class="keyword">const</span> result = {};</span><br><span class="line">    result.customer = invoice.customer;</span><br><span class="line">    result.performances = invoice.performances.map(enrichPerformance);</span><br><span class="line">    result.totalVolumeCredits = totalVolumeCredits(result);</span><br><span class="line">    result.totalAmount = totalAmount(result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enrichPerformance</span>(<span class="params">aPerformance</span>)</span>{</span><br><span class="line">    <span class="keyword">const</span> calculator = createPerformanceCalculator(aPerformance, playFor(aPerformance));</span><br><span class="line">    <span class="keyword">const</span> result = <span class="built_in">Object</span>.assign({}, aPerformance);</span><br><span class="line">    result.play = calculator.play;</span><br><span class="line">    result.amount = calculator.amount;</span><br><span class="line">    result.volumeCredits = calculator.volumeCredits;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">playFor</span>(<span class="params">aPerformance</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> plays[aPerformance.playID];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">amountFor</span>(<span class="params">aPerformance</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PerformanceCalculator(aPerformance, playFor(aPerformance)).amount;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">volumeCreditsFor</span>(<span class="params">perf</span>)</span>{</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">    result += <span class="built_in">Math</span>.max(perf.audience - <span class="number">30</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">"comedy"</span> === perf.play.type) result += <span class="built_in">Math</span>.floor(perf.audience / <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">totalAmount</span>(<span class="params">data</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> data.performances.reduce(<span class="function">(<span class="params">total, p</span>)=&gt;</span>total + p.amount,<span class="number">0</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">totalVolumeCredits</span>(<span class="params">data</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> data.performances.reduce(<span class="function">(<span class="params">total,p</span>) =&gt;</span> total + p.volumeCredits, <span class="number">0</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerformanceCalculator</span>(<span class="params">aPerformance,aPlay</span>)</span>{</span><br><span class="line">    <span class="keyword">switch</span>(aPlay.type){</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"tragedy"</span>: <span class="keyword">return</span> <span class="keyword">new</span> TragedyCalculator(aPerformance, aPlay);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"comedy"</span>: <span class="keyword">return</span> <span class="keyword">new</span> ComedyCalculator(aPerformance, aPlay);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`unknown type: <span class="subst">${aPlay.type}</span>`</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PerformanceCalculator</span></span>{</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">aPerformance, play</span>)</span>{</span><br><span class="line">        <span class="built_in">this</span>.performance = aPerformance;</span><br><span class="line">        <span class="built_in">this</span>.play = play;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">get</span> <span class="title">amount</span>(){</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`subclass responsibility`</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">get</span> <span class="title">volumeCredits</span>(){</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.max(<span class="built_in">this</span>.performance.audience - <span class="number">30</span>, <span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TragedyCalculator</span> <span class="keyword">extends</span> <span class="title">PerformanceCalculator</span></span>{</span><br><span class="line">    <span class="keyword">get</span> <span class="title">amount</span>(){</span><br><span class="line">        <span class="keyword">let</span> result = <span class="number">40000</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.performance.audience &gt; <span class="number">30</span>){</span><br><span class="line">            result += <span class="number">1000</span> * (<span class="built_in">this</span>.performance.audience - <span class="number">30</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComedyCalculator</span> <span class="keyword">extends</span> <span class="title">PerformanceCalculator</span></span>{</span><br><span class="line">    <span class="keyword">get</span> <span class="title">amount</span>(){</span><br><span class="line">        <span class="keyword">let</span> result  = <span class="number">30000</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.performance.audience &gt; <span class="number">20</span>){</span><br><span class="line">            result += <span class="number">10000</span> + <span class="number">500</span> * (<span class="built_in">this</span>.performance.audience - <span class="number">20</span>);</span><br><span class="line">        }</span><br><span class="line">        result += <span class="number">300</span> * <span class="built_in">this</span>.performance.audience;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title">volumeCredits</span>(){</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.volumeCredits + <span class="built_in">Math</span>.floor(<span class="built_in">this</span>.performance.audience / <span class="number">5</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é‡æ„ä¹‹åçš„ä»£ç ï¼Œæ–¹æ³•æ›´ç®€çŸ­ç®€æ´äº†ï¼Œä¸”æ›´å®¹æ˜“ä¿®æ”¹äº†ï¼Œç¾å­¦ä¸Šä¹Ÿå˜å¾—æ¼‚äº®äº†ã€‚</p>]]></content>
    
    
    <summary type="html">æœªè®¾ç½®æ‘˜è¦</summary>
    
    
    
    <category term="æ‚è°ˆ" scheme="https://lyblogs.xyz/categories/%E6%9D%82%E8%B0%88/"/>
    
    <category term="é—²èŠ" scheme="https://lyblogs.xyz/categories/%E9%97%B2%E8%81%8A/"/>
    
    
    <category term="é—²èŠ" scheme="https://lyblogs.xyz/tags/%E9%97%B2%E8%81%8A/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7 è™šæ‹Ÿæœºå®‰è£…Rabbitmqé¿å‘æŒ‡å—</title>
    <link href="https://lyblogs.xyz/posts/2365312446/"/>
    <id>https://lyblogs.xyz/posts/2365312446/</id>
    <published>2023-07-21T02:49:26.000Z</published>
    <updated>2023-07-21T06:27:25.718Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹ç¯å¢ƒï¼š</p><ul><li>VMWare Workstation 16</li><li>Linuxçš„å‘è¡Œç‰ˆæœ¬ä¸º: CentOS Linux release 7.9.2009 (Core)</li></ul><p>åœ¨å®‰è£…æ“ä½œç³»ç»Ÿæ—¶ï¼Œé€‰æ‹©æœ€å°åŒ–å®‰è£…ï¼Œè¿™æ ·ä¸ä¼šå®‰è£…é¢å¤–çš„è½¯ä»¶ï¼Œä¹‹åéœ€è¦ä»€ä¹ˆå†å®‰è£…å°±å¥½äº†ã€‚åœ¨å®‰è£…å¥½æ“ä½œç³»ç»Ÿä¹‹åï¼Œå°†è™šæ‹Ÿæœºçš„ç½‘ç»œè®¾ç½®ä¸ºæ¡¥æ¥æ¨¡å¼ï¼Œå¦‚æœæ˜¯ç¬”è®°æœ¬çš„è¯è®°å¾—å°†<code>å¤åˆ¶ç‰©ç†ç½‘ç»œè¿æ¥çŠ¶æ€</code>é€‰é¡¹å‹¾é€‰ä¸Šï¼Œè¿™æ ·è™šæ‹Ÿæœºå°±å¯ä»¥å’Œå®¿ä¸»æœºåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡å®¿ä¸»æœºè®¿é—®è™šæ‹Ÿæœºäº†<sup>[<a href="https://docs.vmware.com/cn/VMware-Workstation-Pro/17/com.vmware.ws.using.doc/GUID-826323AD-D014-475D-8909-DFA73B5A3A57.html">1</a>]</sup>ã€‚ä¹‹åä½ éœ€è¦å®‰è£…ä¸€äº›å¿…è¦çš„å·¥å…·å¦‚<code>git</code>ã€<code>wget</code>ç­‰ã€‚</p><h1 id="å®‰è£…rabbitmq"><a class="markdownIt-Anchor" href="#å®‰è£…rabbitmq"></a> å®‰è£…RabbitMq</h1><p>åœ¨å®‰è£…ä¹‹å‰é¦–å…ˆéœ€è¦å®‰è£…EPEL<sup>[<a href="https://www.redhat.com/en/blog/whats-epel-and-how-do-i-use-it">2</a>]</sup>-releaseè¿™ä¸ªåŒ…ï¼Œå®ƒåŒ…æ‹¬äº†ç”¨äºåŒ…ç­¾åå’Œå­˜å‚¨åº“ä¿¡æ¯çš„GPGå¯†é’¥ï¼Œä»¥åŠç”¨äºå®‰è£…EPELå­˜å‚¨åº“çš„è½¯ä»¶åŒ…ã€‚åœ¨å®‰è£…ä¹‹å‰éœ€è¦å…ˆæ›´æ–°ä¸€ä¸‹ç³»ç»Ÿï¼Œè¿™æ ·å¯ä»¥é¿å…ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦:</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install epel-release</span><br><span class="line">sudo yum -y update</span><br></pre></td></tr></tbody></table></figure><h2 id="å®‰è£…erlang"><a class="markdownIt-Anchor" href="#å®‰è£…erlang"></a> å®‰è£…Erlang</h2><p>ä¸‹è½½ä»“åº“æ¡ç›®ä¿¡æ¯:</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://packages.erlang-solutions.com/erlang-solutions-2.0-1.noarch.rpm</span><br></pre></td></tr></tbody></table></figure><p>ä¹‹åä½ éœ€è¦æ¡ç›®ä¿¡æ¯æ·»åŠ åˆ°ä½ çš„ç³»ç»Ÿä¸­:</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm -Uvh erlang-solutions-2.0-1.noarch.rpm</span><br></pre></td></tr></tbody></table></figure><p>å‚æ•°<code>Uvh</code>è¡¨ç¤ºæˆ‘è¦å‡çº§è¯¥è½¯ä»¶åŒ…å¹¶å°†è¯¥è½¯ä»¶åŒ…çš„hashä»¥åŠè¾“å‡ºç»†èŠ‚æ‰“å°å‡ºæ¥ã€‚</p><p>å®‰è£…erlangå’Œä¾èµ–é¡¹:</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install erlang socat logrotate</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä½ è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„erlangï¼Œå¯ä»¥åœ¨<code>yum install</code>åé¢åŠ ä¸Šç‰ˆæœ¬å·ï¼Œå¦‚<code>sudo yum -y install erlang-24.3.4.1-1.el7.x86_64</code>ã€‚</p><h2 id="å®‰è£…rabbitmq-server"><a class="markdownIt-Anchor" href="#å®‰è£…rabbitmq-server"></a> å®‰è£…RabbitMq-server</h2><p>ä¸‹è½½RabbitMqçš„ä»“åº“æ¡ç›®ä¿¡æ¯:</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.8.35/rabbitmq-server-3.8.35-1.el8.noarch.rpm</span><br></pre></td></tr></tbody></table></figure><p>è¿™é‡Œå®‰è£…çš„æ˜¯3.8.35ç‰ˆæœ¬çš„RabbitMqï¼Œå¦‚æœä½ è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„RabbitMqï¼Œå¯ä»¥ä¿®æ”¹ä¸Šé¢çš„é“¾æ¥ã€‚ä½†æ˜¯è¦æ³¨æ„Rabbitmqçš„ç‰ˆæœ¬è¦ä¸erlangçš„ç‰ˆæœ¬å¯¹åº”<sup>[<a href="https://www.rabbitmq.com/which-erlang.html">3</a>]</sup>ã€‚</p><p>æ·»åŠ ç­¾åå¯†é’¥ï¼š</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm --import sudo rpm --import https://www.rabbitmq.com/rabbitmq-signing-key-public.asc</span><br></pre></td></tr></tbody></table></figure><p>å®‰è£…RabbitMq-server:</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm -Uvh rabbitmq-server-3.8.35-1.el8.noarch.rpm</span><br></pre></td></tr></tbody></table></figure><p>å¯åŠ¨RabbitMq:</p><pre><code><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start rabbitmq-server</span><br></pre></td></tr></tbody></table></figure></code></pre><p>è®¾ç½®ç³»ç»Ÿåœ¨è‡ªåŠ¨å¯åŠ¨æ—¶å¯åŠ¨RabbitMq:<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> rabbitmq-server</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="é…ç½®rabbitmq-å¯é€‰"><a class="markdownIt-Anchor" href="#é…ç½®rabbitmq-å¯é€‰"></a> é…ç½®RabbitMq (å¯é€‰)</h2><p>åˆ›å»ºRabbitmqçš„é…ç½®æ–‡ä»¶<code>/etc/rabbitmq/rabbitmq.conf</code>ï¼š<br>ä¸‹é¢å…³äºå®‰å…¨sslçš„éƒ¨åˆ†åœ¨CentOS 7ä¸Šä¸å»ºè®®é…ç½®å¯èƒ½ä¼šå‡ºç°é—®é¢˜,ä¸€å¼€å§‹æˆ‘é…ç½®ä¸Šä¸‹é¢çš„sslé€‰é¡¹æ—¶ï¼ŒRabbitmqå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯å…³æœºå†å¯åŠ¨æ—¶å°±ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå¯åŠ¨ä¸èµ·æ¥ï¼Œå¯èƒ½çš„åŸå› æ˜¯CentOS7ä¸æä¾›OpenSSL 1.1ä½œä¸ºç³»ç»Ÿåº“æ‰€ä»¥ä¸èƒ½ä½¿ç”¨Erlang 24<sup>[<a href="https://docs.vmware.com/en/VMware-RabbitMQ/1.4/vmware-rabbitmq-oci/install-rpm.html">4</a>]</sup>ã€‚å¦‚æœä½ æ˜¯å…¶ä»–çš„å‘è¡Œç‰ˆå¯ä»¥å‚è€ƒä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">listeners.ssl.default = 5671</span><br><span class="line"></span><br><span class="line">ssl_options.cacertfile = /path/to/cacertfile.pem</span><br><span class="line">ssl_options.certfile   = /path/to/certfile.pem</span><br><span class="line">ssl_options.keyfile    = /path/to/keyfile.pem</span><br><span class="line">ssl_options.verify     = verify_peer</span><br><span class="line">ssl_options.versions.1 = tlsv1.2</span><br><span class="line">ssl_options.versions.2 = tlsv1.1</span><br><span class="line">ssl_options.fail_if_no_peer_cert = false</span><br><span class="line"></span><br><span class="line">tcp_listen_options.backlog       = 128</span><br><span class="line">tcp_listen_options.nodelay       = true</span><br><span class="line">tcp_listen_options.exit_on_close = false</span><br><span class="line">tcp_listen_options.keepalive     = false</span><br><span class="line"></span><br><span class="line">heartbeat = 580</span><br></pre></td></tr></tbody></table></figure><h2 id="é˜²ç«å¢™"><a class="markdownIt-Anchor" href="#é˜²ç«å¢™"></a> é˜²ç«å¢™</h2><p>å¦‚æœä½ å®‰è£…å¹¶è¿è¡Œäº†é˜²ç«å¢™çš„è¯ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=4369/tcp</span><br><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=25672/tcp</span><br><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=5671-5672/tcp</span><br><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=15672/tcp</span><br><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=61613-61614/tcp</span><br><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=1883/tcp</span><br><span class="line">sudo firewall-cmd --zone=public --permanent --add-port=8883/tcp</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åReloadé˜²ç«å¢™ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></tbody></table></figure><h2 id="selinux"><a class="markdownIt-Anchor" href="#selinux"></a> SELinux</h2><p>å¦‚æœä½ å¼€èµ·äº†SELinuxçš„è¯ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo setsebool -P nis_enabled 1</span><br></pre></td></tr></tbody></table></figure><h2 id="rabbitmq-webç®¡ç†ç•Œé¢"><a class="markdownIt-Anchor" href="#rabbitmq-webç®¡ç†ç•Œé¢"></a> RabbitMq Webç®¡ç†ç•Œé¢</h2><p>å¯ç”¨RabbitMqçš„Webç®¡ç†ç•Œé¢ï¼Œéœ€è¦å…ˆå¯ç”¨RabbitMqçš„ç®¡ç†æ’ä»¶ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></tbody></table></figure><p>ä¿®æ”¹æ–‡ä»¶æƒé™ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R rabbitmq:rabbitmq /var/lib/rabbitmq/</span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»ºä¸€ä¸ªadminçš„ç”¨æˆ·ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rabbitmqctl add_user admin password</span><br></pre></td></tr></tbody></table></figure><p>æœ€åä¸¤ä¸ªå‚æ•°<code>admin</code>æ˜¯ç”¨æˆ·åï¼Œ<code>password</code>æ˜¯å¯†ç ï¼Œä½ å¯ä»¥è‡ªå·±ä¿®æ”¹ã€‚<br>ç„¶åç»™è¿™ä¸ªç”¨æˆ·åˆ†é…ç®¡ç†å‘˜æƒé™ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rabbitmqctl set_user_tags admin administrator</span><br></pre></td></tr></tbody></table></figure><p>ç»™è¿™ä¸ªç”¨æˆ·åˆ†é…æ‰€æœ‰æƒé™ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rabbitmqctl set_permissions -p / admin ".*" ".*" ".*"</span><br></pre></td></tr></tbody></table></figure><p>æœ€åä½ å°±å¯ä»¥ç”¨è¿™ä¸ªè´¦å·é€šè¿‡Webç«¯è®¿é—®RabbitMq:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip:15672</span><br></pre></td></tr></tbody></table></figure><h2 id="rabbitmq-web-ç®¡ç†ç«¯çš„sslé…ç½®"><a class="markdownIt-Anchor" href="#rabbitmq-web-ç®¡ç†ç«¯çš„sslé…ç½®"></a> RabbitMq Web ç®¡ç†ç«¯çš„SSLé…ç½®</h2><p>è¿™ä¸€éƒ¨åˆ†å’Œä¸Šé¢ä¸€æ ·ï¼Œåœ¨CentOs7å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚<br>åœ¨<code>/etc/rabbitmq/rabbitmq.conf</code>ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">management.listener.port = 15672</span><br><span class="line">management.listener.ssl  = true</span><br><span class="line"></span><br><span class="line">management.listener.ssl_opts.cacertfile = /path/to/cacertfile.pem</span><br><span class="line">management.listener.ssl_opts.certfile   = /path/to/certfile.pem</span><br><span class="line">management.listener.ssl_opts.keyfile    = /path/to/keyfile.pem</span><br></pre></td></tr></tbody></table></figure><h1 id="ç»“è¯­"><a class="markdownIt-Anchor" href="#ç»“è¯­"></a> ç»“è¯­</h1><p>å¯èƒ½ç”¨dockerä¼šæ¯”è¾ƒç®€å• ğŸ˜ƒ</p><p>ä½†æ˜¯é…ç½®æ–¹å¼å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p>]]></content>
    
    
    <summary type="html">è®°å½•ä¸€ä¸‹åœ¨CentOS 7ä¸Šå®‰è£…RabbitMqçš„æ–¹æ³•ä»¥åŠä¸€äº›å‘</summary>
    
    
    
    <category term="Linux" scheme="https://lyblogs.xyz/categories/Linux/"/>
    
    <category term="RabbitMq" scheme="https://lyblogs.xyz/categories/RabbitMq/"/>
    
    
    <category term="Linux" scheme="https://lyblogs.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ€è§„åˆ’å­¦ä¹ ç¬”è®°(ä¸€)</title>
    <link href="https://lyblogs.xyz/posts/1322687218/"/>
    <id>https://lyblogs.xyz/posts/1322687218/</id>
    <published>2022-09-01T07:17:13.000Z</published>
    <updated>2022-09-22T03:11:32.256Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŠ¨æ€è§„åˆ’ä¸€"><a class="markdownIt-Anchor" href="#åŠ¨æ€è§„åˆ’ä¸€"></a> åŠ¨æ€è§„åˆ’ï¼ˆä¸€ï¼‰</h1><h2 id="åŠ¨æ€è§„åˆ’é¢˜ç›®çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#åŠ¨æ€è§„åˆ’é¢˜ç›®çš„ç‰¹ç‚¹"></a> åŠ¨æ€è§„åˆ’é¢˜ç›®çš„ç‰¹ç‚¹</h2><ol><li>è®¡æ•°<ul><li>æœ‰å¤šå°‘ç§æ–¹å¼èµ°åˆ°æŸä¸ªä½ç½®</li><li>æœ‰å¤šå°‘ç§æ–¹å¼é€‰å‡ºKä¸ªæ•°ä½¿å¾—å’Œæ˜¯Sum</li></ul></li><li>æ±‚æœ€å¤§æœ€å°å€¼<ul><li>ä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’è·¯å¾„çš„æœ€å¤§æ•°å­—å’Œ</li><li>æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦</li></ul></li><li>æ±‚å­˜åœ¨æ€§<ul><li>å–çŸ³å­æ¸¸æˆï¼Œå…ˆæ‰‹æ˜¯å¦å¿…èƒœ</li><li>èƒ½ä¸èƒ½é€‰å‡ºKä¸ªæ•°ä½¿å¾—å’Œæ˜¯Sum</li></ul></li></ol><h2 id="åŠ¨æ€è§„åˆ’çš„ç»„æˆéƒ¨åˆ†"><a class="markdownIt-Anchor" href="#åŠ¨æ€è§„åˆ’çš„ç»„æˆéƒ¨åˆ†"></a> åŠ¨æ€è§„åˆ’çš„ç»„æˆéƒ¨åˆ†</h2><h3 id="ç¡®å®šçŠ¶æ€"><a class="markdownIt-Anchor" href="#ç¡®å®šçŠ¶æ€"></a> ç¡®å®šçŠ¶æ€</h3><ul><li>çŠ¶æ€åœ¨åŠ¨æ€è§„åˆ’ä¸­çš„ä½œç”¨å±äºå®šæµ·ç¥é’ˆ</li><li>ç®€å•åœ°è¯´ï¼Œè§£åŠ¨æ€è§„åˆ’çš„æ—¶å€™éœ€è¦å¼€ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>æˆ–è€…<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>ä»£è¡¨ä»€ä¹ˆã€‚ç±»ä¼¼äºè§£æ•°å­¦é¢˜ä¸­ï¼ŒXï¼ŒYï¼ŒZä»£è¡¨ä»€ä¹ˆã€‚</li><li>ç¡®å®šçŠ¶æ€éœ€è¦ä¸¤ä¸ªæ„è¯†ï¼š<ul><li>æœ€åä¸€æ­¥</li><li>å­é—®é¢˜</li></ul></li></ul><h3 id="è½¬ç§»æ–¹ç¨‹"><a class="markdownIt-Anchor" href="#è½¬ç§»æ–¹ç¨‹"></a> è½¬ç§»æ–¹ç¨‹</h3><p>æ¯”å¦‚å‡‘ç¡¬å¸çš„é¢˜ç›®ä¸­ï¼Œå…¶è½¬ç§»æ–¹ç¨‹å°±æ˜¯ï¼š</p><ul><li>è®¾çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">f[X]=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>"æœ€å°‘ç”¨å¤šå°‘æšç¡¬å¸æ‹¼å‡ºX";</li><li>å¯¹ä»»æ„çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>æœ‰ï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><mi>x</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>5</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>7</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f[X]=min(f[x-2], f[X-5], f[X-7])+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">7</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></li></ul><h3 id="åˆå§‹æ¡ä»¶å’Œè¾¹ç•Œæƒ…å†µ-bsae-case"><a class="markdownIt-Anchor" href="#åˆå§‹æ¡ä»¶å’Œè¾¹ç•Œæƒ…å†µ-bsae-case"></a> åˆå§‹æ¡ä»¶å’Œè¾¹ç•Œæƒ…å†µ (bsae case)</h3><p>åœ¨æ‹¼ç¡¬å¸çš„é¢˜ç›®ä¸­ï¼Œå¯¹äºè½¬ç§»æ–¹ç¨‹ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><mi>x</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>5</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>7</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f[X]=min(f[x-2], f[X-5], f[X-7])+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">7</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>âˆ’</mo><mn>2</mn><mo separator="true">,</mo><mi>X</mi><mo>âˆ’</mo><mn>5</mn><mo separator="true">,</mo><mi>X</mi><mo>âˆ’</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">X-2, X-5, X-7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span>ä¸­çš„æŸä¸€ä¸ªå€¼å°äºé›¶æ—¶è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</li><li>è¯¥ç¨‹åºåœ¨ä»€ä¹ˆæ—¶å€™è¯¥åœä¸‹æ¥ï¼Ÿ</li></ul><p>å¦‚æœä¸èƒ½æ‹¼å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span>, å°±å®šä¹‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">f[Y]=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>"æ­£æ— ç©·"ï¼Œä¾‹å¦‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mi>f</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>=</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">f[-1]=f[2]=...=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>"æ­£æ— ç©·"ã€‚æ‰€ä»¥ï¼Œ$f[1]=min{f[-1], f[-4], f[-6]}+1 = $â€œæ­£æ— ç©·â€ï¼Œè¡¨ç¤ºæ‹¼ä¸å‡ºæ¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚åˆå§‹æ¡ä»¶ä¸ºï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f[0]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚</p><h3 id="è®¡ç®—é¡ºåº"><a class="markdownIt-Anchor" href="#è®¡ç®—é¡ºåº"></a> è®¡ç®—é¡ºåº</h3><ul><li>ä¸€èˆ¬éƒ½æ˜¯ä»å°åˆ°å¤§è®¡ç®—ã€‚</li><li>æ‹¼å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>æ‰€éœ€è¦çš„æœ€å°‘ç¡¬å¸æ•°ï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><mi>x</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>5</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>7</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f[X]=min(f[x-2], f[X-5], f[X-7])+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">7</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚</li><li>åˆå§‹æ¡ä»¶ï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f[0]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚</li><li>ç„¶åè®¡ç®—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi>f</mi><mo stretchy="false">[</mo><mn>27</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[1],f[2]...f[27]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord">2</span><span class="mord">7</span><span class="mclose">]</span></span></span></span>ã€‚</li><li>è¿™æ ·è®¡ç®—çš„å¥½å¤„æ˜¯ï¼Œå½“æˆ‘ä»¬è®¡ç®—åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">æ—¶</mi></mrow><annotation encoding="application/x-tex">f[X]æ—¶</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord cjk_fallback">æ—¶</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>5</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>X</mi><mo>âˆ’</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[X-2],f[X-5],f[X-7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span>éƒ½å·²ç»å¾—åˆ°ç»“æœäº†ã€‚</li></ul><h3 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h3><ul><li><p>æ±‚æœ€å€¼å‹åŠ¨æ€è§„åˆ’</p></li><li><p>åŠ¨æ€è§„åˆ’çš„ç»„æˆéƒ¨åˆ†</p><ul><li>æœ€åä¸€æ­¥</li><li>åŒ–æˆå­é—®é¢˜</li><li>è½¬ç§»æ–¹ç¨‹</li><li>åˆå§‹æ¡ä»¶å’Œè¾¹ç•Œæƒ…å†µ</li><li>è®¡ç®—é¡ºåº</li></ul></li><li><p>æ¶ˆé™¤å†—ä½™ï¼ŒåŠ é€Ÿè®¡ç®—ã€‚</p></li></ul>]]></content>
    
    
    <summary type="html">åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ¡†æ¶</summary>
    
    
    
    <category term="ç®—æ³•" scheme="https://lyblogs.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    <category term="åŠ¨æ€è§„åˆ’" scheme="https://lyblogs.xyz/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
    
    <category term="ç®—æ³•" scheme="https://lyblogs.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Linux æ–‡ä»¶çš„æ’åºã€åˆå¹¶å’Œåˆ†å‰²</title>
    <link href="https://lyblogs.xyz/posts/3706206380/"/>
    <id>https://lyblogs.xyz/posts/3706206380/</id>
    <published>2022-05-26T08:43:15.000Z</published>
    <updated>2022-08-09T16:43:13.867Z</updated>
    
    <content type="html"><![CDATA[<h2 id="sortå‘½ä»¤"><a class="markdownIt-Anchor" href="#sortå‘½ä»¤"></a> <code>sort</code>å‘½ä»¤</h2><p><code>sort</code> å‘½ä»¤å°†è¾“å…¥æ–‡ä»¶çœ‹ä½œç”±å¤šæ¡è®°å½•ç»„æˆçš„æ•°æ®æµï¼Œè€Œè®°å½•ç”±å¯å˜å®½åº¦çš„å­—æ®µç»„æˆï¼Œ<em><strong>è®°å½•ç”±æ¢è¡Œç¬¦ä½œä¸ºç•Œå®šç¬¦</strong></em>ã€‚<code>sort</code>å‘½ä»¤ä¸<code>awk</code>ä¸€æ ·ï¼Œå¯å°†è®°å½•åˆ†æˆå¤šä¸ªåŸŸè¿›è¡Œå¤„ç†ï¼Œ<em><strong>é»˜è®¤çš„åŸŸåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ç¬¦</strong></em>ã€‚<code>sort</code>å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort [é€‰é¡¹] [è¾“å…¥æ–‡ä»¶]</span><br></pre></td></tr></tbody></table></figure><h3 id="sortå‘½ä»¤çš„é€‰é¡¹"><a class="markdownIt-Anchor" href="#sortå‘½ä»¤çš„é€‰é¡¹"></a> <code>sort</code>å‘½ä»¤çš„é€‰é¡¹</h3><p>ä¸‹é¢æ˜¯<code>sort</code>å‘½ä»¤çš„é€‰é¡¹åŠå…¶æ„ä¹‰ï¼š</p><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-c</td><td style="text-align:center">æµ‹è¯•æ–‡ä»¶æ˜¯å¦å·²ç»æ’åºã€‚</td></tr><tr><td style="text-align:center">-k</td><td style="text-align:center">æŒ‡å®šæ’åºçš„åŸŸã€‚</td></tr><tr><td style="text-align:center">-m</td><td style="text-align:center">åˆå¹¶ä¸¤ä¸ªå·²æ’åºçš„æ–‡ä»¶ã€‚</td></tr><tr><td style="text-align:center">-n</td><td style="text-align:center">æ ¹æ®æ•°å­—å¤§å°è¿›è¡Œæ’åºã€‚</td></tr><tr><td style="text-align:center">-o[è¾“å‡ºæ–‡ä»¶]</td><td style="text-align:center">å°†è¾“å‡ºå†™åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œç›¸å½“äºå°†è¾“å‡ºé‡å®šå‘åˆ°æŒ‡å®šä¸ºæ–‡ä»¶ã€‚</td></tr><tr><td style="text-align:center">-r</td><td style="text-align:center">å°†æ’åºç»“æœé€†å‘æ˜¾ç¤ºã€‚</td></tr><tr><td style="text-align:center">-t</td><td style="text-align:center">æ”¹å˜åŸŸåˆ†éš”ç¬¦ã€‚</td></tr><tr><td style="text-align:center">-u</td><td style="text-align:center">å»é™¤ç»“æœä¸­çš„é‡å¤è¡Œã€‚</td></tr></tbody></table><h3 id="sortå‘½ä»¤çš„åŸºæœ¬ç”¨æ³•"><a class="markdownIt-Anchor" href="#sortå‘½ä»¤çš„åŸºæœ¬ç”¨æ³•"></a> <code>sort</code>å‘½ä»¤çš„åŸºæœ¬ç”¨æ³•</h3><p><code>sort</code>å‘½ä»¤æ˜¯åˆ†åŸŸå¯¹æ–‡ä»¶è¿›è¡Œæ’åºçš„ï¼Œé»˜è®¤çš„åŸŸåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ç¬¦ï¼Œ<code>-t</code>é€‰é¡¹å¯ç”¨äºè®¾ç½®åˆ†éš”ç¬¦ã€‚</p><ol><li><p><code>sort</code>å‘½ä»¤ç”¨<code>-t</code>é€‰é¡¹è®¾ç½®åˆ†éš”ç¬¦ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ä½¿ç”¨å†’å·ä½œä¸ºåŸŸåˆ†éš”ç¬¦ï¼Œæ³¨æ„ -t ä¸å†’å·ä¹‹é—´æ˜¯æ²¡æœ‰åˆ†éš”ç¬¦çš„ã€‚</span><br><span class="line">sort -t: stuscort.txt</span><br></pre></td></tr></tbody></table></figure><p><code>sort</code>å‘½ä»¤é»˜è®¤æ ¹æ®ç¬¬ä¸€åŸŸå¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œå¦‚æœç¬¬ä¸€åŸŸç›¸åŒï¼Œå†æ ¹æ®ç¬¬äºŒåŸŸè¿›è¡Œæ’åºï¼Œä»¥æ­¤ç±»æ¨ã€‚å½“æœªæŒ‡å®š<code>-t</code>æ—¶ï¼Œåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ï¼Œè¿™æ—¶è®°å½•å†…å¼€å¤´ä¸ç»“å°¾çš„ç©ºæ ¼éƒ½å°†è¢«å¿½ç•¥ï¼›å½“<code>-t</code>é€‰é¡¹æ”¹å˜åˆ†éš”ç¬¦æ—¶ï¼Œç©ºæ ¼ç¬¦å˜å¾—æœ‰æ„ä¹‰ã€‚å¦‚<code>[ç©ºæ ¼ç¬¦]:root:[ç©ºæ ¼ç¬¦]</code>è¿™æ¡è®°å½•ï¼Œåœ¨æœªæŒ‡å®š<code>-t</code>æ—¶ï¼Œè¿™æ¡è®°å½•åªæœ‰ä¸€ä¸ªåŸŸ<code>:root:</code>ï¼Œè®°å½•å‰åçš„ç©ºæ ¼ç¬¦éƒ½è¢«å¿½ç•¥äº†ï¼›è‹¥å°†<code>-t</code>é€‰é¡¹æŒ‡å®šä¸ºå†’å·ï¼Œè¿™æ¡è®°å½•å°±åŒ…å«äº†ä¸‰ä¸ªåŸŸï¼Œç¬¬ä¸€å’Œç¬¬ä¸‰åŸŸéƒ½æ˜¯ç©ºæ ¼ç¬¦ï¼Œç¬¬äºŒåŸŸæ˜¯<code>:root:</code>;</p></li><li><p><code>sort</code>å‘½ä»¤ç”¨<code>-k</code>é€‰é¡¹æŒ‡å®šæ’åºçš„åŸŸå·ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ ¹æ®ç¬¬ä¸‰åŸŸå¯¹stuscoreè¿›è¡Œæ’åº</span></span><br><span class="line">sort -t: -k3 stuscore</span><br></pre></td></tr></tbody></table></figure><p>åœ¨ä¸Šä¾‹ä¸­åˆ©ç”¨<code>-k</code>é€‰é¡¹æŒ‡å®šäº†<code>sort</code>å‘½ä»¤æ ¹æ®ç¬¬ä¸‰åŸŸè¿›è¡Œæ’åºï¼Œæ³¨æ„<code>-k</code>å’Œ<code>3</code>ä¹‹é—´ä¹Ÿæ²¡æœ‰ç©ºæ ¼ã€‚å¦‚æœç¬¬ä¸‰åŸŸæ˜¯æ•°å­—ï¼Œ<code>sort</code>å‘½ä»¤é»˜è®¤ä¹Ÿä¸ä¼šä»¥æ•°å­—å¤§å°æ¥æ’åºï¼Œè€Œæ˜¯ä»ç„¶ä»¥å­—ç¬¦ä¸²çš„æ–¹å¼è¿›è¡Œæ’åºçš„ã€‚</p></li><li><p><code>sort</code>å‘½ä»¤ç”¨<code>-n</code>é€‰é¡¹è®¾ç½®æ ¹æ®æ•°å€¼å¤§å°æ’åºï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -t: -k3n stuscore</span><br></pre></td></tr></tbody></table></figure><p><code>-n</code>é€‰é¡¹å¯ä»¥æŒ‡å®šæ ¹æ®æ•°å­—å¤§å°è¿›è¡Œæ’åºï¼Œ<code>-n</code>é€‰é¡¹ä¸æ˜¯å•ç‹¬ä½¿ç”¨çš„ï¼Œä¸€èˆ¬æ”¾åœ¨åŸŸå·ä¹‹åã€‚</p></li><li><p><code>sort</code>å‘½ä»¤ç”¨<code>-r</code>é€‰é¡¹å°†æ’åºç»“æœé€†å‘ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -t: -k3rn stuscore</span><br></pre></td></tr></tbody></table></figure><p><code>-r</code>é€‰é¡¹ç”¨äºå°†æ’åºç»“æœé€†å‘æ˜¾ç¤ºã€‚</p></li><li><p><code>sort</code>å‘½ä»¤<code>-u</code>é€‰é¡¹çš„ç”¨æ³•ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -ué€‰é¡¹ç”¨äºå»é™¤æ’åºç»“æœä¸­çš„é‡å¤è¡Œ</span></span><br><span class="line">sort -t: -u score</span><br></pre></td></tr></tbody></table></figure><p><code>sort</code>å‘½ä»¤åœ¨æ–‡ä»¶æœ‰æœªæ’åºçš„è®°å½•æ—¶ä¼šæœ‰æç¤ºä¿¡æ¯ï¼Œå¦‚æœæ–‡ä»¶å·²æ’åºï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•æç¤ºä¿¡æ¯ã€‚</p></li><li><p><code>sort</code>å‘½ä»¤<code>-m</code>é€‰é¡¹çš„ç”¨æ³•ï¼š</p><p><code>-m</code>é€‰é¡¹ç”¨äºå°†ä¸¤ä¸ªæ’å¥½åºçš„æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæ’å¥½åºçš„æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶åˆå¹¶å‰ä»–ä»¬å¿…é¡»å·²ç»æ’å¥½åºã€‚<code>-m</code>é€‰é¡¹å¯¹æœªæ’åºçš„æ–‡ä»¶è¿›è¡Œåˆå¹¶æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -t: -m stu1 stu2</span><br></pre></td></tr></tbody></table></figure><p><code>-m</code>é€‰é¡¹ä¼šå°†ä¸¤ä¸ªæ’å¥½åºçš„æ–‡ä»¶æœ‰åºçš„æ’å…¥åˆ°ç¬¬äºŒä¸ªæ–‡ä»¶çš„è®°å½•ä¸­ã€‚</p></li></ol><h2 id="uniqå‘½ä»¤"><a class="markdownIt-Anchor" href="#uniqå‘½ä»¤"></a> <code>uniq</code>å‘½ä»¤</h2><p><code>uniq</code>å‘½ä»¤ç”¨äºå»é™¤æ–‡æœ¬æ–‡ä»¶ä¸­çš„é‡å¤è¡Œã€‚<code>uniq</code>å‘½ä»¤ç±»ä¼¼äº<code>sort</code>å‘½ä»¤çš„<code>-u</code>é€‰é¡¹ã€‚ä¸åŒçš„åœ°æ–¹åœ¨äº<code>uniq</code>å‘½ä»¤åªèƒ½å»é™¤è¿ç»­çš„é‡å¤è¡Œï¼Œé‡å¤è¡Œä¹‹é—´ä¸èƒ½å¤¹æ‚å…¶ä»–çš„è¡Œï¼Œè€Œ<code>sort</code>å‘½ä»¤çš„<code>-u</code>é€‰é¡¹æ˜¯å»é™¤æ‰€æœ‰çš„é‡å¤è¡Œã€‚</p><h3 id="uniqå‘½ä»¤çš„é€‰é¡¹"><a class="markdownIt-Anchor" href="#uniqå‘½ä»¤çš„é€‰é¡¹"></a> <code>uniq</code>å‘½ä»¤çš„é€‰é¡¹</h3><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-c</td><td style="text-align:center">æ‰“å°æ¯è¡Œåœ¨æ–‡æœ¬ä¸­é‡å¤å‡ºç°çš„æ¬¡æ•°ã€‚</td></tr><tr><td style="text-align:center">-d</td><td style="text-align:center">åªæ˜¾ç¤ºæœ‰é‡å¤çš„è®°å½•ï¼Œæ¯ä¸ªé‡å¤è®°å½•åªå‡ºç°ä¸€æ¬¡ã€‚</td></tr><tr><td style="text-align:center">-u</td><td style="text-align:center">åªæ˜¾ç¤ºæ²¡æœ‰é‡å¤çš„è®°å½•ã€‚</td></tr></tbody></table><h2 id="joinå‘½ä»¤"><a class="markdownIt-Anchor" href="#joinå‘½ä»¤"></a> <code>join</code>å‘½ä»¤</h2><p><code>join</code>å‘½ä»¤ç”¨äºå®ç°ä¸¤ä¸ªæ–‡ä»¶ä¸­è®°å½•çš„è¿æ¥æ“ä½œï¼Œè¿æ¥æ“ä½œæ˜¯å°†ä¸¤ä¸ªæ–‡ä»¶ä¸­å…·æœ‰ç›¸åŒåŸŸçš„è®°å½•é€‰æ‹©å‡ºæ¥ï¼Œå†å°†è¿™äº›è®°å½•æ‰€æœ‰çš„åŸŸæ”¾åˆ°ä¸€è¡Œï¼ˆåŒ…å«æ¥è‡ªä¸¤ä¸ªæ–‡ä»¶çš„æ‰€æœ‰åŸŸï¼‰ã€‚</p><h3 id="joinå‘½ä»¤é€‰é¡¹åŠå…¶æ„ä¹‰"><a class="markdownIt-Anchor" href="#joinå‘½ä»¤é€‰é¡¹åŠå…¶æ„ä¹‰"></a> <code>join</code>å‘½ä»¤é€‰é¡¹åŠå…¶æ„ä¹‰</h3><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-a1æˆ–-a2</td><td style="text-align:center">é™¤äº†æ˜¾ç¤ºä»¥å…±åŒåŸŸè¿›è¡Œè¿æ¥çš„çš„ç»“æœå¤–ï¼Œ-a1è¡¨ç¤ºè¿˜æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶ä¸­æ²¡æœ‰å…±åŒåŸŸçš„è®°å½•ï¼Œ-a2åˆ™è¡¨ç¤ºæ˜¾ç¤ºç¬¬äºŒä¸ªæ–‡ä»¶ä¸­æ²¡æœ‰å…±åŒåŸŸçš„è®°å½•ã€‚</td></tr><tr><td style="text-align:center">-i</td><td style="text-align:center">æ¯”è¾ƒåŸŸå†…å®¹æ—¶ï¼Œå¿½ç•¥å¤§å°å†™å·®å¼‚ã€‚</td></tr><tr><td style="text-align:center">-o</td><td style="text-align:center">è®¾ç½®ç»“æœæ˜¾ç¤ºçš„æ ¼å¼ã€‚</td></tr><tr><td style="text-align:center">-t</td><td style="text-align:center">æ”¹å˜åŸŸåˆ†éš”ç¬¦ã€‚</td></tr><tr><td style="text-align:center">-v1æˆ–-v2</td><td style="text-align:center">ä¸aé€‰é¡¹ç±»ä¼¼ï¼Œä½†æ˜¯ï¼Œä¸æ˜¾ç¤ºä»¥å…±åŒåŸŸè¿›è¡Œè¿æ¥çš„ç»“æœã€‚</td></tr><tr><td style="text-align:center">-1æˆ–-2</td><td style="text-align:center">-1ç”¨äºè®¾ç½®æ–‡ä»¶1ç”¨äºè¿æ¥çš„åŸŸï¼Œ-2ç”¨äºè®¾ç½®æ–‡ä»¶2ç”¨äºè¿æ¥çš„åŸŸã€‚</td></tr></tbody></table><p><code>join</code>å‘½ä»¤é»˜è®¤æ˜¾ç¤ºè¿æ¥è®°å½•åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ‰€æœ‰åŸŸï¼Œè€Œä¸”æ˜¯æŒ‰é¡ºåºæ¥æ˜¾ç¤ºçš„ã€‚<code>-o</code>é€‰é¡¹ç”¨äºæ”¹å˜ç»“æœæ˜¾ç¤ºçš„æ ¼å¼ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -oé€‰é¡¹ç”¨äºæ”¹å˜ç»“æœæ˜¾ç¤ºæ ¼å¼ï¼Œåœ¨ä¸‹é¢çš„å‘½ä»¤ä¸­æŒ‰ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåŸŸã€ç¬¬äºŒä¸ªæ–‡ä»¶ä¸­çš„ç¬¬äºŒä¸ªåŸŸå’Œç¬¬ä¸€ä¸ªæ–‡ä»¶ä¸­çš„ç¬¬äºŒä¸ªåŸŸè¿›è¡Œæ˜¾ç¤º</span></span><br><span class="line">join -t: -o1.1 2.2 1.2 stu1 stu2</span><br><span class="line"><span class="meta">#</span><span class="bash"> -1 -2é€‰é¡¹ç”¨äºè®¾ç½®æ–‡ä»¶è¿æ¥çš„åŸŸ,ä¸‹é¢çš„å‘½ä»¤æŒ‰ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ç¬¬ä¸‰ä¸ªåŸŸä¸ç¬¬äºŒä¸ªæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåŸŸè¿›è¡Œè¿æ¥</span></span><br><span class="line">join -t: -i -1 3 -2 1 stu1 stu2 </span><br></pre></td></tr></tbody></table></figure><p><code>join</code>å‘½ä»¤åœ¨å¯¹ä¸¤ä¸ªæ–‡ä»¶è¿›è¡Œè¿æ¥æ“ä½œæ—¶ï¼Œä¸¤ä¸ªæ–‡ä»¶å¿…é¡»éƒ½æ˜¯æŒ‰åŸŸæ’åºå¥½çš„ï¼ŒæŒ‰å…¶ä»–åŸŸæ’åºæ˜¯æ— æ•ˆçš„ã€‚</p><h2 id="cutå‘½ä»¤"><a class="markdownIt-Anchor" href="#cutå‘½ä»¤"></a> <code>cut</code>å‘½ä»¤</h2><p><code>cut</code>å‘½ä»¤ç”¨äºä»æ ‡å‡†è¾“å…¥æˆ–æ–‡æœ¬æ–‡ä»¶ä¸­æŒ‰åŸŸæˆ–è¡Œæå–æ–‡æœ¬ã€‚</p><h3 id="cutå‘½ä»¤çš„é€‰é¡¹"><a class="markdownIt-Anchor" href="#cutå‘½ä»¤çš„é€‰é¡¹"></a> <code>cut</code>å‘½ä»¤çš„é€‰é¡¹</h3><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-c</td><td style="text-align:center">æŒ‡å®šæå–çš„å­—ç¬¦æ•°æˆ–å­—ç¬¦èŒƒå›´ã€‚</td></tr><tr><td style="text-align:center">-f</td><td style="text-align:center">æŒ‡å®šæå–çš„åŸŸæ•°æˆ–åŸŸèŒƒå›´ã€‚</td></tr><tr><td style="text-align:center">-d</td><td style="text-align:center">æ”¹å˜åŸŸåˆ†éš”ç¬¦ã€‚</td></tr></tbody></table><p><code>-c</code>é€‰é¡¹åè·Ÿæ•°å­—è¡¨ç¤ºå­—ç¬¦æ•°æˆ–å­—ç¬¦èŒƒå›´ï¼Œå…±æœ‰ä¸‰ç§è¡¨ç¤ºæ–¹å¼ï¼š</p><ul><li><code>-cn</code>è¡¨ç¤ºç¬¬<code>n</code>ä¸ªå­—ç¬¦ã€‚</li><li><code>-cn,m</code>è¡¨ç¤ºç¬¬<code>n</code>ä¸ªå­—ç¬¦å’Œç¬¬<code>m</code>ä¸ªå­—ç¬¦ã€‚</li><li><code>-cn-m</code>è¡¨ç¤ºç¬¬<code>n</code>ä¸ªå­—ç¬¦åˆ°ç¬¬<code>m</code>ä¸ªå­—ç¬¦ã€‚</li></ul><p>ç”±äº<code>-c</code>é€‰é¡¹æ˜¯æŒ‰å­—ç¬¦æå–æ–‡æœ¬çš„ï¼Œå› æ­¤ï¼Œæ— éœ€ä½¿ç”¨<code>-d</code>æ”¹å˜åŸŸåˆ†éš”ç¬¦ï¼Œä½†æ˜¯å½“ä½¿ç”¨<code>-f</code>æŒ‰åŸŸæå–æ–‡æœ¬æ—¶å°±éœ€è¦ä½¿ç”¨<code>-d</code>æ”¹å˜åŸŸåˆ†éš”ç¬¦äº†ã€‚</p><h2 id="pasteå‘½ä»¤"><a class="markdownIt-Anchor" href="#pasteå‘½ä»¤"></a> <code>paste</code>å‘½ä»¤</h2><p><code>paste</code>å‘½ä»¤ç”¨äºå°†æ–‡æœ¬æ–‡ä»¶æˆ–æ ‡å‡†è¾“å‡ºä¸­çš„å†…å®¹ç²˜è´´åˆ°æ–°çš„æ–‡ä»¶ã€‚</p><h3 id="pasteå‘½ä»¤çš„é€‰é¡¹"><a class="markdownIt-Anchor" href="#pasteå‘½ä»¤çš„é€‰é¡¹"></a> <code>paste</code>å‘½ä»¤çš„é€‰é¡¹</h3><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-d</td><td style="text-align:center">é»˜è®¤åŸŸåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼æˆ–Tabé”®ï¼Œ-dç”¨äºè®¾ç½®æ–°çš„åŸŸåˆ†éš”ç¬¦ã€‚</td></tr><tr><td style="text-align:center">-s</td><td style="text-align:center">å°†æ¯ä¸ªæ–‡ä»¶ç²˜è´´æˆä¸€è¡Œã€‚</td></tr></tbody></table><h2 id="tarå‘½ä»¤"><a class="markdownIt-Anchor" href="#tarå‘½ä»¤"></a> <code>tar</code>å‘½ä»¤</h2><p><code>tar</code>å‘½ä»¤æ˜¯Linuxçš„å½’æ¡£å‘½ä»¤ï¼Œé€šä¿—åœ°è¯´ï¼Œ<code>tar</code>å‘½ä»¤å®ç°äº†Linuxç³»ç»Ÿæ–‡ä»¶çš„å‹ç¼©å’Œè§£å‹ç¼©ã€‚</p><h3 id="tarå‘½ä»¤å¸¸ç”¨çš„é€‰é¡¹"><a class="markdownIt-Anchor" href="#tarå‘½ä»¤å¸¸ç”¨çš„é€‰é¡¹"></a> <code>tar</code>å‘½ä»¤å¸¸ç”¨çš„é€‰é¡¹</h3><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>-c</code></td><td style="text-align:center">åˆ›å»ºæ–°çš„åŒ…ã€‚</td></tr><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">ä¸ºåŒ…æ·»åŠ æ–°çš„æ–‡ä»¶ã€‚</td></tr><tr><td style="text-align:center"><code>-t</code></td><td style="text-align:center">åˆ—å‡ºåŒ…çš„å†…å®¹ã€‚</td></tr><tr><td style="text-align:center"><code>-u</code></td><td style="text-align:center">æ›´æ–°åŒ…ä¸­çš„æ–‡ä»¶ï¼Œè‹¥åŒ…ä¸­æ— æ­¤æ–‡ä»¶ï¼Œåˆ™å°†è¯¥æ–‡ä»¶æ·»åŠ åˆ°åŒ…ä¸­ã€‚</td></tr><tr><td style="text-align:center"><code>-x</code></td><td style="text-align:center">è§£å‹ç¼©æ–‡ä»¶ã€‚</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">ä½¿ç”¨å‹ç¼©æ–‡ä»¶æˆ–è®¾å¤‡ï¼Œè¯¥é€‰é¡¹é€šå¸¸æ˜¯å¿…é€‰çš„ã€‚</td></tr><tr><td style="text-align:center"><code>-v</code></td><td style="text-align:center">è¯¦ç»†æŠ¥å‘Š<code>tar</code>å¤„ç†æ–‡ä»¶çš„ä¿¡æ¯ã€‚</td></tr><tr><td style="text-align:center"><code>-z</code></td><td style="text-align:center">ç”¨<code>gzip</code>å‹ç¼©å’Œè§£å‹ç¼©æ–‡ä»¶ï¼Œè‹¥åŠ ä¸Šæ­¤é€‰é¡¹åˆ›å»ºå‹ç¼©åŒ…ï¼Œé‚£ä¹ˆè§£å‹ç¼©æ—¶ä¹Ÿéœ€è¦åŠ ä¸Šæ­¤é€‰é¡¹ã€‚</td></tr></tbody></table><p>åœ¨Linux ç³»ç»Ÿä¸‹æœ‰å¾ˆå¤šç§å‹ç¼©åŒ…æ ¼å¼ï¼Œå¦‚<code>.tar</code>ã€<code>.gz</code>ã€<code>.tar.gz</code>ã€<code>.tgz</code>å’Œ<code>.Z</code>ï¼Œåˆ©ç”¨<code>tar</code>å‘½ä»¤è§£å‹ç¼©æ—¶ï¼Œå¸¸ç”¨çš„æœ‰ä¸¤æ¡å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># è§£å‹ç¼©égzipæ ¼å¼çš„å‹ç¼©åŒ…</span><br><span class="line">tar -xvf å‹ç¼©åŒ…åç§°</span><br><span class="line"># è§£å‹gzipæ ¼å¼çš„å‹ç¼©åŒ…</span><br><span class="line">tar -zxvf å‹ç¼©åŒ…åç§°</span><br></pre></td></tr></tbody></table></figure><p><code>gzip</code>å‘½ä»¤æ˜¯Linuxç³»ç»Ÿä¸­å¸¸ç”¨çš„å‹ç¼©å·¥å…·ï¼Œä»–å¯ä»¥å¯¹<code>tar</code>å‘½ä»¤åˆ›å»ºçš„å‹ç¼©åŒ…è¿›è¡Œå‹ç¼©</p>]]></content>
    
    
    <summary type="html">Linux æ–‡ä»¶çš„æ’åºã€åˆå¹¶å’Œåˆ†å‰²</summary>
    
    
    
    <category term="Linux" scheme="https://lyblogs.xyz/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://lyblogs.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux ä¸‰å‰‘å®¢ä¹‹sed</title>
    <link href="https://lyblogs.xyz/posts/3950104678/"/>
    <id>https://lyblogs.xyz/posts/3950104678/</id>
    <published>2022-05-18T00:54:35.000Z</published>
    <updated>2022-08-09T16:43:13.859Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p><code>sed</code>æ˜¯ä¸€ä¸ªéäº¤äº’å¼æµå¼ç¼–è¾‘å™¨ï¼Œå®ƒå¯å¯¹æ–‡æœ¬æ–‡ä»¶å’Œæ ‡å‡†è¾“å…¥è¿›è¡Œç¼–è¾‘(æ ‡å‡†è¾“å…¥å¯ä»¥æ˜¯æ¥è‡ªé”®ç›˜ã€æ–‡ä»¶é‡å®šå‘ã€å­—ç¬¦ä¸²ã€å˜é‡ã€ç”šè‡³æ˜¯æ¥è‡ªç®¡é“çš„æ–‡æœ¬)ã€‚</p><p><code>sed</code>ä»æ–‡æœ¬çš„ä¸€ä¸ªæ–‡æœ¬è¡Œæˆ–æ ‡å‡†è¾“å…¥ä¸­è¯»å–æ•°æ®ï¼Œå°†å…¶å¤åˆ¶åˆ°ç¼“å†²åŒºï¼Œç„¶åè¯»å–å‘½ä»¤è¡Œæˆ–è„šæœ¬çš„ç¬¬ä¸€ä¸ªå‘½ä»¤ï¼Œå¯¹æ­¤å‘½ä»¤è¦æ±‚çš„è¡Œå·è¿›è¡Œç¼–è¾‘ï¼Œé‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°å‘½ä»¤è¡Œæˆ–è„šæœ¬ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½æ‰§è¡Œå®Œæ¯•ã€‚</p><p><code>sed</code> åªæ˜¯å¯¹ç¼“å†²åŒºä¸­åŸå§‹æ–‡ä»¶çš„å‰¯æœ¬è¿›è¡Œç¼–è¾‘ï¼Œå¹¶<strong>ä¸ç¼–è¾‘</strong>åŸå§‹æ–‡ä»¶ã€‚è¦ä¿å­˜æ”¹åŠ¨çš„å†…å®¹éœ€è¦é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [option] 'sed command' input-file &gt; result-file</span><br></pre></td></tr></tbody></table></figure><h2 id="è°ƒç”¨æ–¹å¼"><a class="markdownIt-Anchor" href="#è°ƒç”¨æ–¹å¼"></a> è°ƒç”¨æ–¹å¼</h2><ol><li>åœ¨<code>shell</code> å‘½ä»¤è¡Œä¸­è¾“å…¥å‘½ä»¤è°ƒç”¨<code>sed</code>ï¼Œæ ¼å¼ä¸ºï¼š</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [option] 'sed command' file-name</span><br></pre></td></tr></tbody></table></figure><p>åœ¨è°ƒç”¨æ—¶ï¼Œéœ€è¦å°†<code>sed</code>å‘½ä»¤ç”¨å•å¼•å·å¼•èµ·æ¥ã€‚</p><ol start="2"><li>å°†<code>sed</code>å‘½ä»¤æ’å…¥åˆ°è„šæœ¬ä¸­è°ƒç”¨æ—¶ï¼Œéœ€è¦æ·»åŠ å‚æ•°<code>-f</code>,æ ¼å¼ä¸ºï¼š</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [option] -f sedè„šæœ¬æ–‡ä»¶ è¾“å…¥æ–‡ä»¶</span><br></pre></td></tr></tbody></table></figure><h2 id="sed-å‘½ä»¤è§£æ"><a class="markdownIt-Anchor" href="#sed-å‘½ä»¤è§£æ"></a> <code>sed</code> å‘½ä»¤è§£æ</h2><h3 id="å¸¸ç”¨é€‰é¡¹"><a class="markdownIt-Anchor" href="#å¸¸ç”¨é€‰é¡¹"></a> å¸¸ç”¨é€‰é¡¹</h3><p><code>sed</code> å¸¸ç”¨é€‰é¡¹æœ‰ä¸‰ä¸ªï¼š</p><ul><li><code>-n</code>: ä¸æ‰“å°æ‰€æœ‰è¡Œåˆ°æ ‡å‡†è¾“å‡ºã€‚</li><li><code>-e</code>: è¡¨ç¤ºå°†ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²è§£æä¸º<code>sed</code>ç¼–è¾‘å‘½ä»¤,å¦‚æœåªä¼ é€’ä¸€ä¸ªç¼–è¾‘å‘½ä»¤ç»™<code>sed</code>ï¼Œåˆ™<code>-e</code>é€‰é¡¹å¯ä»¥å¿½ç•¥ã€‚</li><li><code>-f</code>: è¡¨ç¤ºæ­£åœ¨è°ƒç”¨<code>sed</code>è„šæœ¬æ–‡ä»¶ã€‚</li></ul><p><code>sed</code> å‘½ä»¤é€šå¸¸ç”±å®šä½æ–‡æœ¬è¡Œå’Œ<code>sed</code>ç¼–è¾‘å‘½ä»¤ä¸¤éƒ¨åˆ†ç»„æˆã€‚</p><h3 id="sedå®šä½æ–‡æœ¬çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#sedå®šä½æ–‡æœ¬çš„æ–¹æ³•"></a> <code>sed</code>å®šä½æ–‡æœ¬çš„æ–¹æ³•</h3><p><code>sed</code>æä¾›ä¸¤ç§å®šä½æ–‡æœ¬çš„æ–¹æ³•ï¼š</p><ul><li>ä½¿ç”¨è¡Œå·ï¼ŒæŒ‡å®šä¸€è¡Œï¼Œæˆ–æŒ‡å®šè¡Œå·èŒƒå›´ã€‚</li><li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚</li></ul><p>ä¸‹é¢ä¸º<code>sed</code>å‘½ä»¤å®šä½æ–‡æœ¬çš„æ–¹æ³•ï¼š</p><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">x</td><td style="text-align:center">xä¸ºæŒ‡å®šè¡Œå·</td></tr><tr><td style="text-align:center">x,y</td><td style="text-align:center">æŒ‡å®šxåˆ°yçš„è¡Œå·èŒƒå›´</td></tr><tr><td style="text-align:center">/pattern/</td><td style="text-align:center">æŸ¥è¯¢åŒ…å«æ¨¡å¼çš„è¡Œ</td></tr><tr><td style="text-align:center">/pattern/pattern/</td><td style="text-align:center">æŸ¥è¯¢åŒ…å«ä¸¤ä¸ªæ¨¡å¼çš„è¡Œ</td></tr><tr><td style="text-align:center">/pattern/,x</td><td style="text-align:center">ä»ä¸patternçš„åŒ¹é…è¡Œåˆ°xå·è¡Œä¹‹é—´çš„è¡Œ</td></tr><tr><td style="text-align:center">x,/pattern/</td><td style="text-align:center">ä»xå·è¡Œåˆ°ä¸patternçš„åŒ¹é…è¡Œä¹‹é—´çš„è¡Œ</td></tr><tr><td style="text-align:center">x,y!</td><td style="text-align:center">æŸ¥è¯¢ä¸åŒ…æ‹¬xå’Œyè¡Œå·ä¹‹é—´çš„è¡Œ</td></tr></tbody></table><h3 id="sedç¼–è¾‘å‘½ä»¤"><a class="markdownIt-Anchor" href="#sedç¼–è¾‘å‘½ä»¤"></a> <code>sed</code>ç¼–è¾‘å‘½ä»¤</h3><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">p</td><td style="text-align:center">æ‰“å°åŒ¹é…è¡Œ</td></tr><tr><td style="text-align:center">=</td><td style="text-align:center">æ‰“å°æ–‡ä»¶è¡Œå·</td></tr><tr><td style="text-align:center">a\</td><td style="text-align:center">åœ¨å®šä½è¡Œå·ä¹‹åè¿½åŠ æ–‡æœ¬ä¿¡æ¯</td></tr><tr><td style="text-align:center">i\</td><td style="text-align:center">åœ¨å®šä½è¡Œå·ä¹‹å‰æ’å…¥æ–‡æœ¬ä¿¡æ¯</td></tr><tr><td style="text-align:center">d</td><td style="text-align:center">åˆ é™¤å®šä½è¡Œ</td></tr><tr><td style="text-align:center">c\</td><td style="text-align:center">ç”¨æ–°æ–‡æœ¬æ›¿æ¢å®šä½æ–‡æœ¬</td></tr><tr><td style="text-align:center">s</td><td style="text-align:center">ä½¿ç”¨æ›¿æ¢æ¨¡å¼æ›¿æ¢ç›¸åº”æ¨¡å¼</td></tr><tr><td style="text-align:center">r</td><td style="text-align:center">ä»å¦å¤–ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»å–æ–‡æœ¬</td></tr><tr><td style="text-align:center">w</td><td style="text-align:center">å°†æ–‡æœ¬å†™å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶</td></tr><tr><td style="text-align:center">y</td><td style="text-align:center">é€ä¸ªæ›¿æ¢å­—ç¬¦</td></tr><tr><td style="text-align:center">q</td><td style="text-align:center">ç¬¬ä¸€ä¸ªæ¨¡å¼åŒ¹é…å®Œæˆåé€€å‡º</td></tr><tr><td style="text-align:center">l</td><td style="text-align:center">æ˜¾ç¤ºä¸å…«è¿›åˆ¶ASCIIç ç­‰ä»·çš„æ§åˆ¶å­—ç¬¦</td></tr><tr><td style="text-align:center">{}</td><td style="text-align:center">åœ¨å®šä½è¡Œæ‰§è¡Œçš„å‘½ä»¤ç»„</td></tr><tr><td style="text-align:center">n</td><td style="text-align:center">è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œ</td></tr><tr><td style="text-align:center">h</td><td style="text-align:center">å°†patternç¼“å†²åŒºçš„æ–‡æœ¬å¤åˆ¶åˆ°holdç¼“å†²åŒº</td></tr><tr><td style="text-align:center">H</td><td style="text-align:center">å°†patternç¼“å†²åŒºçš„æ–‡æœ¬è¿½åŠ åˆ°holdç¼“å†²åŒº</td></tr><tr><td style="text-align:center">x</td><td style="text-align:center">å°†patternç¼“å†²åŒºå’Œholdç¼“å†²åŒºçš„å†…å®¹äº’æ¢</td></tr><tr><td style="text-align:center">g</td><td style="text-align:center">å°†holdç¼“å†²åŒºçš„å†…å®¹å¤åˆ¶åˆ°patternç¼“å†²åŒº</td></tr><tr><td style="text-align:center">G</td><td style="text-align:center">å°†holdç¼“å†²åŒºçš„å†…å®¹è¿½åŠ åˆ°patternç¼“å†²åŒº</td></tr></tbody></table><h2 id="sedå‘½ä»¤ä¾‹å­"><a class="markdownIt-Anchor" href="#sedå‘½ä»¤ä¾‹å­"></a> <code>sed</code>å‘½ä»¤ä¾‹å­</h2><ol><li><code>-n</code> é€‰é¡¹</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># -né€‰é¡¹è¡¨ç¤º"ä¸æ‰“å°"æ˜¯æŒ‡: ä¸æ‰“å°sedç¼–è¾‘å¯¹è±¡çš„å…¨éƒ¨å†…å®¹ï¼Œå°†-nå»æ‰å°±ä¼šæ‰“å°æ–‡ä»¶å†…çš„å…¨éƒ¨å†…å®¹</span><br><span class="line">sed -n '1p' input </span><br><span class="line"></span><br><span class="line"># æ‰“å°inputæ–‡ä»¶çš„3~6è¡Œ</span><br><span class="line">sed -n '3,6p' input</span><br><span class="line"></span><br><span class="line"># sedå‘½ä»¤æ‰“å°åŒ¹é…æ¨¡å¼è¡Œ</span><br><span class="line">sed -n '/certificate/p' input</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li><code>-e</code>é€‰é¡¹</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ‰“å°å†…å®¹åŠè¡Œå·ï¼Œä¼ é€’ä¸¤ä¸ªç¼–è¾‘å‘½ä»¤ç»™sed</span><br><span class="line">sed -n -e '/Certificate/p' -e '/Certificate/=' input</span><br></pre></td></tr></tbody></table></figure><p><em><strong>æ³¨æ„ï¼š<code>sed</code>ä¸æ”¯æŒåŒæ—¶å¸¦å¤šä¸ªç¼–è¾‘å‘½ä»¤çš„ç”¨æ³•ï¼Œå¦‚ï¼š</strong></em></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n 'Certificate/p=' input</span><br></pre></td></tr></tbody></table></figure><p><em><strong>ä¸Šé¢è¿™ç§ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼ï¼ï¼</strong></em></p><p><code>sed</code>å¸¦å¤šä¸ªç¼–è¾‘å‘½ä»¤æ ¼å¼æœ‰ä¸‹é¢å‡ ç§</p><ul><li><code>sed [option] -e 'edit command 1' -e 'edit command 2 ...'</code></li><li><code>sed -n '/Certificate/{p;=}' input</code></li><li><code>sed 's/globus/GLOBUS/; s/seugrid/SEUGRID/' input</code></li></ul><ol start="3"><li><code>-f</code> é€‰é¡¹</li></ol><p><code>-f</code>é€‰é¡¹åªæœ‰è°ƒç”¨<code>sed</code>è„šæœ¬æ—¶æ‰èµ·ä½œç”¨ï¼Œè¿½åŠ æ–‡æœ¬ã€æ’å…¥æ–‡æœ¬ã€ä¿®æ”¹æ–‡æœ¬ã€åˆ é™¤æ–‡æœ¬å’Œæ›¿æ¢æ–‡æœ¬ç­‰åŠŸèƒ½å¾€å¾€éœ€è¦å‡ æ¡<code>sed</code>å‘½ä»¤æ¥å®Œæˆï¼Œæ‰€ä»¥ä¼šå°†è¿™äº›å‘½ä»¤å†™å…¥åˆ°<code>sed</code>è„šæœ¬æ–‡ä»¶ä¸­ï¼Œç„¶åè°ƒç”¨<code>sed</code>è„šæœ¬æ¥å®Œæˆã€‚</p><p>è¿½åŠ æ–‡æœ¬çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># append.sed</span><br><span class="line">#!/bin/sed -f</span><br><span class="line">/file:/a\    # a\ è¡¨ç¤ºæ­¤å¤„æ¢è¡Œæ·»åŠ æ–‡æœ¬</span><br><span class="line"># éœ€è¦æ·»åŠ çš„å†…å®¹</span><br><span class="line">We append a new line.</span><br><span class="line">We append another line.</span><br></pre></td></tr></tbody></table></figure><ol start="4"><li><p><code>sed</code>ç¼–è¾‘å‘½ä»¤</p><ul><li><p><code>a\</code>ï¼šå°†æŒ‡å®šæ–‡æœ¬çš„ä¸€è¡Œæˆ–å¤šè¡Œè¿½åŠ åˆ°æŒ‡å®šè¡Œåé¢ã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å‘½ä»¤æ ¼å¼ä¸ºï¼šsed 'æŒ‡å®šåœ°å€a\è¿½åŠ æ–‡æœ¬' è¾“å…¥æ–‡ä»¶</span><br><span class="line"># ä¸Šé¢æŒ‡å®šåœ°å€ç”¨/pattern/æˆ–è€…è¡Œå·çš„å½¢å¼ç»™å‡ºï¼Œç”¨äºå®šä½æ–°æ–‡æœ¬çš„è¿½åŠ ä½ç½®,sedå¯¹a\åçš„æ–‡æœ¬è¿›è¡Œè¿½åŠ æ“ä½œ</span><br><span class="line">sed '/file:/a\We append a new line.' input</span><br></pre></td></tr></tbody></table></figure></li><li><p><code>i\</code>ï¼šæ’å…¥æ–‡æœ¬å’Œè¿½åŠ æ–‡æœ¬ç±»ä¼¼åŒºåˆ«ä»…åœ¨äºè¿½åŠ æ–‡æœ¬æ˜¯åœ¨åŒ¹é…è¡Œçš„åé¢æ’å…¥ï¼Œè€Œæ’å…¥æ–‡æœ¬æ˜¯åœ¨åŒ¹é…è¡Œçš„å‰é¢æ’å…¥ã€‚</p></li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">!#/bin/sed -f</span><br><span class="line">/file:/i\ # i\è¡¨ç¤ºæ­¤å¤„æ¢è¡Œæ’å…¥æ–‡æœ¬</span><br><span class="line">We insert a new line.</span><br></pre></td></tr></tbody></table></figure><ul><li><code>c\</code>ä¿®æ”¹æ–‡æœ¬æ˜¯æŒ‡å°†æ‰€åŒ¹é…çš„æ–‡æœ¬è¡Œé‡Œç”¨å¿ƒæ–‡æœ¬æ›¿ä»£ã€‚</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sed -f </span><br><span class="line">/file:/c\ # c\è¡¨ç¤ºæ­¤å¤„æ¢è¡Œä¿®æ”¹æ–‡æœ¬</span><br><span class="line">We modify this line.</span><br></pre></td></tr></tbody></table></figure><ul><li><code>d</code> åˆ é™¤æ–‡æœ¬</li></ul><p><code>sed</code>åˆ é™¤æ–‡æœ¬å‘½ä»¤å¯ä»¥æŒ‡å®šè¡Œæˆ–è€…æŒ‡å®šè¡ŒèŒƒå›´è¿›è¡Œåˆ é™¤ã€‚</p><p><em><strong>æ³¨æ„ï¼š<code>sed</code>ç¼–è¾‘å‘½ä»¤ä¸­åˆ é™¤æ“ä½œç¬¦å·æ˜¯<code>d</code>ï¼Œåé¢æ²¡æœ‰<code>\</code>ç¬¦å·ã€‚</strong></em></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># sed å‘½ä»¤åˆ é™¤ç¬¬ä¸€è¡Œ</span><br><span class="line">sed '1d' input</span><br><span class="line"></span><br><span class="line"># sedå‘½ä»¤åˆ é™¤æœ€åä¸€è¡Œ</span><br><span class="line">sed '$d' input</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æŒ‡å®šèŒƒå›´å†…æ‰€æœ‰çš„è¡Œ</span><br><span class="line">sed '1,10d' input</span><br><span class="line"></span><br><span class="line"># åˆ é™¤ç¬¬5è¡Œåˆ°æœ€åä¸€è¡Œ</span><br><span class="line">sed '5,$d' input</span><br><span class="line"></span><br><span class="line"># åˆ é™¤ä¸patternåŒ¹é…çš„è¡Œ</span><br><span class="line">sed '/[Cc][Ee][Rr][Tt][Ii][Ff][Ii][Cc][Aa][Tt][Ee]/d' input</span><br></pre></td></tr></tbody></table></figure><ul><li><code>s</code>æ›¿æ¢æ–‡æœ¬</li><li>æ›¿æ¢æ–‡æœ¬ä¸ä¿®æ”¹æ–‡æœ¬ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼š<em><strong>æ›¿æ¢æ–‡æœ¬å¯ä»¥æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¿®æ”¹æ–‡æœ¬æ˜¯å¯¹æ•´è¡Œè¿›è¡Œä¿®æ”¹</strong></em></li></ul><p>æ›¿æ¢æ–‡æœ¬çš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s/è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²/[æ›¿æ¢é€‰é¡¹]</span><br></pre></td></tr></tbody></table></figure><p>æ›¿æ¢é€‰é¡¹åŠå…¶æ„ä¹‰:</p><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">g</td><td style="text-align:center">è¡¨ç¤ºæ›¿æ¢æ–‡æœ¬ä¸­æ‰€æœ‰å‡ºç°è¢«æ›¿æ¢å­—ç¬¦ä¸²ä¹‹å¤„</td></tr><tr><td style="text-align:center">p</td><td style="text-align:center">ä¸-né€‰é¡¹ç»“åˆ,åªæ‰“å°æ›¿æ¢è¡Œ</td></tr><tr><td style="text-align:center">w æ–‡ä»¶å</td><td style="text-align:center">è¡¨ç¤ºå°†è¾“å‡ºå®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶</td></tr></tbody></table><p><code>P</code>é€‰é¡¹ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>sed</code>çš„<code>s</code>å‘½ä»¤å°†æ›¿æ¢åçš„å…¨éƒ¨æ–‡æœ¬éƒ½è¾“å‡ºï¼Œå¦‚æœåªè¦æ±‚æ‰“å°æ›¿æ¢è¡Œï¼Œéœ€è¦ç»“åˆä½¿ç”¨<code>-n</code>å’Œ<code>p</code>é€‰é¡¹ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n 's/è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²/p' è¾“å…¥æ–‡ä»¶</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šè¿°å‘½ä»¤å¦‚æœç¼ºå°‘pé€‰é¡¹,å°†ä¸æ‰“å°ä»»ä½•å†…å®¹,<code>p</code>é€‰é¡¹çš„å®˜æ–¹æ–‡æ¡£è§£é‡Šæ˜¯ï¼šä½¿<code>-n</code>æ— æ•ˆï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 1.ä¸åŠ -nå’Œpé€‰é¡¹,ç»“æœä¸º:æ˜¾ç¤ºæ›¿æ¢åæ–‡æœ¬çš„æ‰€æœ‰å†…å®¹</span><br><span class="line"># 2.æ·»åŠ -nå’Œpé€‰é¡¹ï¼Œç»“æœä¸º:ä»…æ˜¾ç¤ºè¢«æ›¿æ¢çš„è¡Œ</span><br><span class="line"># 3.åªæ·»åŠ -nå‚æ•°,æœªæ·»åŠ pé€‰é¡¹ï¼Œç»“æœä¸ºï¼šä¸æ‰“å°ä»»ä½•å†…å®¹</span><br><span class="line"># 4.çœç•¥å‚æ•°-nï¼Œåªä½¿ç”¨pé€‰é¡¹,ç»“æœä¸ºï¼šæ‰“å°æ‰€æœ‰è¡Œï¼Œä¸”åŒ¹é…è¡Œé‡å¤æ‰“å°ã€‚</span><br></pre></td></tr></tbody></table></figure><p><code>sed</code>æ›¿æ¢å‘½ä»¤åœ¨ä¸å¸¦<code>g</code>é€‰é¡¹æ—¶ï¼Œå¯¹æŸè¡Œçš„ç¬¬ä¸€å¤„åŒ¹é…å…³é”®å­—è¿›è¡Œæ›¿æ¢åå°±è·³è½¬åˆ°ä¸‹ä¸€åŒ¹é…è¡Œè¿›è¡Œæ“ä½œã€‚è€Œ<code>g</code>é€‰é¡¹ä½¿å¾—<code>sed</code>æ›¿æ¢å‘½ä»¤å¯¹æŸè¡Œä¸­æ‰€æœ‰åŒ¹é…çš„å…³é”®å­—éƒ½è¿›è¡Œäº†æ›¿æ¢ã€‚æ‰€ä»¥åªæœ‰å½“è¢«æ›¿æ¢å­—ç¬¦ä¸²åœ¨æŸè¡Œå‡ºç°ä¸¤æ¬¡ä»¥ä¸Šæ—¶ï¼Œ<code>g</code>é€‰é¡¹æ‰å‘æŒ¥ä½œç”¨ã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># sedæ›¿æ¢å‘½ä»¤wé€‰é¡¹çš„ç”¨æ³•</span><br><span class="line"># å°†seuå­—ç¬¦ä¸²æ”¹ä¸ºnjueï¼Œå¹¶å°†ç»“æœå†™å…¥outputæ–‡ä»¶</span><br><span class="line">sed -n 's/seu/njue/w output' input</span><br></pre></td></tr></tbody></table></figure><ul><li><p><code>sed</code>æ›¿æ¢æ–‡æœ¬ä¸­ç»å¸¸ä½¿ç”¨çš„<code>&amp;</code>ç¬¦å·ã€‚</p><p><code>&amp;</code>ç¬¦å·å¯ç”¨æ¥ä¿å­˜è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²ä»¥ä¾›è°ƒç”¨</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å°†seuç”¨åœ†æ‹¬å·æ‹¬èµ·æ¥</span><br><span class="line">sed -n 's/seu/(&amp;)pg' input</span><br><span class="line"># ç­‰ä»·äº</span><br><span class="line">sed -n 's/seu/(seu)/pg' input</span><br></pre></td></tr></tbody></table></figure></li><li><p>å†™å…¥ä¸€ä¸ªæ–°æ–‡ä»¶</p></li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æŒ‡å®šåœ°å€ w æ–‡ä»¶å</span><br><span class="line"># å°†1~5è¡Œå†™å…¥outputæ–‡ä»¶</span><br><span class="line">sed -n '1,5 w output' input</span><br><span class="line"></span><br><span class="line"># å°†ä¸globuså…³é”®å­—åŒ¹é…çš„è¡Œå†™å…¥outputæ–‡ä»¶</span><br><span class="line">sed -n '/globus/w output' input</span><br></pre></td></tr></tbody></table></figure><ul><li>ä»æ–‡ä»¶ä¸­è¯»æ–‡æœ¬</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨ä¸CertificateåŒ¹é…çš„è¡Œåè¯»å…¥otherfileæ–‡ä»¶</span><br><span class="line">sed '/Certificate/r otherfile' input</span><br></pre></td></tr></tbody></table></figure><ul><li>é€€å‡ºå‘½ä»¤</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æ‰“å°inputæ–‡ä»¶çš„å‰5è¡Œ</span><br><span class="line">sed '5 q' input</span><br><span class="line"># æŸ¥æ‰¾ä»»æ„å­—ç¬¦åè·Ÿrå­—ç¬¦ï¼Œå†è·Ÿ0ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦çš„å­—ç¬¦ä¸²,è¿™ç§æƒ…å†µä¼šåŒ¹é…å…¨éƒ¨å­—ç¬¦ä¸²</span><br><span class="line">sed -n '/.r.*/p' input</span><br><span class="line"></span><br><span class="line"># åŒ¹é…ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²åç«‹åˆ»é€€å‡º</span><br><span class="line">sed '/.r.*/q' input</span><br></pre></td></tr></tbody></table></figure><ul><li>å˜æ¢å‘½ä»¤</li></ul><p><code>sed</code>å‘½ä»¤çš„<code>y</code>é€‰é¡¹è¡¨ç¤ºå­—ç¬¦ä¸²å˜æ¢ï¼Œä»–å°†ä¸€ç³»åˆ—çš„å­—ç¬¦ä¸²å˜æ¢ä¸ºç›¸åº”çš„å­—ç¬¦ï¼Œ<code>y</code>é€‰é¡¹æ˜¯å¯¹å­—ç¬¦çš„é€ä¸ªå¤„ç†ï¼Œä»–çš„åŸºæœ¬æ ¼å¼æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed 'y/è¢«å˜æ¢çš„å­—ç¬¦åºåˆ—/å˜æ¢çš„å­—ç¬¦åºåˆ—' è¾“å…¥æ–‡ä»¶</span><br></pre></td></tr></tbody></table></figure><p><code>sed</code>å‘½ä»¤çš„<code>y</code>é€‰é¡¹è¦æ±‚è¢«å˜æ¢çš„å­—ç¬¦åºåˆ—å’Œå˜æ¢çš„å­—ç¬¦åºåˆ—ç­‰é•¿ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># å°†inputæ–‡ä»¶ä¸­çš„1å˜æ¢ä¸ºAã€2å˜æ¢ä¸ºBã€3å˜æ¢ä¸ºCã€4å˜æ¢ä¸ºDã€5å˜æ¢ä¸ºE</span><br><span class="line">sed 'y/12345/ABCDE/' input</span><br><span class="line"></span><br><span class="line"># å°†fmjä¸‰ä¸ªå­—ç¬¦å˜æ¢ä¸ºå¤§å†™</span><br><span class="line">sed 'y/fmj/FMJ/' input</span><br></pre></td></tr></tbody></table></figure><ul><li>æ˜¾ç¤ºæ§åˆ¶å­—ç¬¦</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># sed æ˜¾ç¤ºæ§åˆ¶å­—ç¬¦</span><br><span class="line"># è¡¨ç¤ºç”¨æ­£åˆ™è¡¨è¾¾å¼'1,$'è¡¨ç¤ºä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œ,å„ç³»ç»Ÿçš„æ§åˆ¶å­—ç¬¦çš„æ˜¾ç¤ºå€¼å¯èƒ½ä¸åŒ</span><br><span class="line">sed -n '1, $l' control</span><br></pre></td></tr></tbody></table></figure></li><li><p><code>sed</code>æ–‡æœ¬å®šä½çš„ä¸€ç»„ä¾‹å­</p><ul><li>åŒ¹é…å…ƒå­—ç¬¦ï¼š</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># åŒ¹é…å­—ç¬¦ä¸­åŒ…å«å…ƒå­—ç¬¦æ—¶ï¼Œéœ€è¦ç”¨è½¬ä¹‰å­—ç¬¦"\"å±è”½å…¶ç‰¹æ®Šæ„ä¹‰</span><br><span class="line">sed -n '/\./p' input</span><br><span class="line">sed -n '/\$/p' input</span><br></pre></td></tr></tbody></table></figure><ul><li><p>ä½¿ç”¨å…ƒå­—ç¬¦è¿›è¡ŒåŒ¹é…</p><p><code>sed</code> å‘½ä»¤å¯ä»¥çµæ´»ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„å…ƒå­—ç¬¦è¿›è¡ŒåŒ¹é…ã€‚<code>$</code>åœ¨<code>sed</code>å‘½ä»¤ä¸­è¡¨ç¤ºæœ€åä¸€è¡Œï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># sedç»“åˆ$ç¬¦å·åŒ¹é…æœ€åä¸€è¡Œ</span><br><span class="line">sed -n '$p' input</span><br><span class="line"></span><br><span class="line"># sedåŸºæœ¬ç¼–è¾‘å‘½ä»¤ä¹Ÿå¯ä»¥æ”¾åˆ°å¼•å·å¤–é¢</span><br><span class="line">sed -n '$'p input</span><br><span class="line"></span><br><span class="line"># ç”¨.å’Œ*å·åŒ¹é…ä»»æ„å­—ç¬¦</span><br><span class="line">sed -n '/.*bus/p' input </span><br></pre></td></tr></tbody></table></figure></li><li><p><code>!</code>ç¬¦å·è¡¨ç¤ºå–å, <code>x,y!</code>è¡¨ç¤ºåŒ¹é…ä¸åœ¨<code>x</code>å’Œ<code>y</code>è¡Œå·èŒƒå›´å†…çš„è¡Œã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n '2,10!p' input</span><br></pre></td></tr></tbody></table></figure><p><code>x!</code>è¡¨ç¤ºåŒ¹é…é™¤äº†<code>x</code>è¡Œå·å¤–çš„æ‰€æœ‰è¡Œ,ä½†æ˜¯,<code>ï¼</code>ç¬¦å·ä¸èƒ½ç”¨äºå…³é”®å­—åŒ¹é…,å¦‚æ— æ³•è¡¨ç¤ºä¸ä¸/pattern/åŒ¹é…çš„è¡Œã€‚</p></li><li><p>ä½¿ç”¨è¡Œå·ä¸å…³é”®å­—åŒ¹é…é™å®šè¡ŒèŒƒå›´</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># sed å‘½ä»¤ä½¿ç”¨è¡Œå·ä¸å…³é”®å­—åŒ¹é…é™å®šè¡ŒèŒƒå›´</span><br><span class="line"></span><br><span class="line"># æ‰“å°ä¸seugridçš„åŒ¹é…è¡Œåˆ°æœ€åä¸€è¡Œ</span><br><span class="line">sed -n '/seugrid/,$p' input</span><br><span class="line"></span><br><span class="line"># æ‰“å°ç¬¬ä¸‰è¡Œåˆ°ä¸Certificateçš„åŒ¹é…è¡Œ</span><br><span class="line">sed -n '3,/Certificate/p' input</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ol><h3 id="sedé«˜çº§ç¼–è¾‘å‘½ä»¤çš„ä¸€ç»„ä¾‹å­"><a class="markdownIt-Anchor" href="#sedé«˜çº§ç¼–è¾‘å‘½ä»¤çš„ä¸€ç»„ä¾‹å­"></a> <code>sed</code>é«˜çº§ç¼–è¾‘å‘½ä»¤çš„ä¸€ç»„ä¾‹å­</h3><ol><li>å¤„ç†åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œ</li></ol><p><code>sed</code>ç¼–è¾‘å‘½ä»¤<code>n</code>çš„æ„ä¹‰æ˜¯è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨<code>n</code>åé¢çš„ä¸€ä¸ªå‘½ä»¤å¤„ç†è¯¥è¡Œï¼Œç”±äºæ­¤æ—¶é€šå¸¸æœ‰å¤šä¸ªç¼–è¾‘å‘½ä»¤ï¼Œæ‰€ä»¥ï¼Œç¼–è¾‘å‘½ä»¤<code>n</code>éœ€è¦ä¸<code>{}</code>ç¬¦å·ç»“åˆä½¿ç”¨ã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># sed nç¼–è¾‘å‘½ä»¤çš„ç”¨æ³•</span><br><span class="line"># å°†ä¸certificateåŒ¹é…çš„ä¸‹ä¸€è¡Œä¸­çš„llæ›¿æ¢æˆ99 </span><br><span class="line">sed '/certificate/{n;s/ll/99/;}' input</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li><code>sed</code>ç¼“å†²åŒºçš„å¤„ç†</li></ol><p><code>sed</code>æœ‰ä¸¤ç§ç¼“å†²åŒºï¼šæ¨¡å¼ç¼“å†²åŒº(Pattern Buffer) å’Œä¿æŒç¼“å†²åŒº(Hold Buffer)ï¼Œä¸€èˆ¬æ“ä½œçš„æ˜¯Pattern Bufferï¼Œ<code>sed</code>çš„ä¸€äº›å‘½ä»¤å¯ä»¥æ“ä½œHold Bufferã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -e '/Subject/h' -e '/seugrid/x' -e '$G' input</span><br><span class="line"># ä¸Šé¢å‘½ä»¤ä¸­ç¬¬ä¸€ä¸ª-eé€‰é¡¹åçš„ç¼–è¾‘å‘½ä»¤å°†Subjectå…³é”®å­—çš„åŒ¹é…è¡Œå†™å…¥Hold Bufferä¸­</span><br><span class="line"># ç¬¬äºŒä¸ª-eé€‰é¡¹åçš„ç¼–è¾‘å‘½ä»¤æ˜¯é‡è§seugridå…³é”®å­—çš„åŒ¹é…è¡Œæ—¶ï¼Œå°†Hold Bufferä¸­çš„å†…å®¹è¾“å‡ºï¼Œå¹¶å°†seugridå…³é”®å­—çš„åŒ¹é…è¡Œå†™å…¥Hold Buffer</span><br><span class="line"># ç¬¬ä¸‰ä¸ª-eé€‰é¡¹åçš„ç¼–è¾‘å‘½ä»¤è¡¨ç¤ºåˆ°æœ€åä¸€è¡Œæ—¶ï¼ˆç”¨$è¿›è¡ŒåŒ¹é…ï¼‰ï¼Œå°†Hold Bufferä¸­çš„å†…å®¹è¿½åŠ åˆ°pattern Bufferä¸­ã€‚</span><br></pre></td></tr></tbody></table></figure><p><code>h</code>å’Œ<code>H</code>ã€<code>g</code>å’Œ<code>G</code>æ˜¯ä¸¤ç»„å¯¹åº”çš„å‘½ä»¤ï¼Œ<code>h</code>å’Œ<code>H</code>å‘½ä»¤æ˜¯Pattern Bufferæ›¿æ¢æ‰Hold Bufferçš„å†…å®¹ï¼Œä¸è¿‡<code>h</code>æ˜¯å‰¯æœ¬ï¼Œå³å°†Hold Bufferçš„æ—§å†…å®¹è¦†ç›–æ‰ï¼Œè€Œ<code>H</code>æ˜¯è¿½åŠ ï¼Œå³åœ¨Hold Bufferçš„æ—§å†…å®¹çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ–°çš„å†…å®¹ã€‚</p><p><code>g</code>å’Œ<code>G</code>å‘½ä»¤æ˜¯Hold Bufferå†…å®¹æ›¿æ¢Pattern Bufferå†…å®¹ï¼ŒåŒç†<code>g</code>æ˜¯å‰¯æœ¬,<code>G</code>æ˜¯è¿½åŠ ã€‚</p>]]></content>
    
    
    <summary type="html">æœªè®¾ç½®æ‘˜è¦</summary>
    
    
    
    <category term="Linux" scheme="https://lyblogs.xyz/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://lyblogs.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>è´ç´¢æ–¯çš„é…·æ–‡åŒ–</title>
    <link href="https://lyblogs.xyz/posts/2297297103/"/>
    <id>https://lyblogs.xyz/posts/2297297103/</id>
    <published>2022-05-16T09:08:45.000Z</published>
    <updated>2024-05-09T09:55:52.506Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>Rudeness is not cool. é‡è›®ä¸é…·</p></li><li><p>Defeating tiny guys is not cool. æ‰“è´¥å¼±è€…ä¸é…·</p></li><li><p>Close-following is not cool.  è·Ÿéšä»–äººä¸é…·</p></li><li><p>Young is cool. å¹´è½»å¾ˆé…·</p></li><li><p>Risk taking is cool. å†’é™©å¾ˆé…·</p></li><li><p>Winning is cool. èƒœåˆ©å¾ˆé…·</p></li><li><p>Polite is cool. æœ‰ç¤¼è²Œå¾ˆé…·</p></li><li><p>Defeating bigger, unsympathetic guys is cool. æ‰“è´¥å¼ºå¤§çš„ã€ä¸å€¼å¾—åŒæƒ…çš„å®¶ä¼™å¾ˆé…·</p></li><li><p>Inventing is cool. åˆ›æ–°å¾ˆé…·</p></li><li><p>Explorers are cool. å¼€æ‹“å¾ˆé…·</p></li><li><p>Conquerors are not cool. åšå¾æœè€…ä¸é…·</p></li><li><p>Obsessing over competitors is not cool. å…³æ³¨ç«äº‰å¯¹æ‰‹ä¸é…·</p></li><li><p>Empowering others is cool. å¸®åŠ©ä»–äººå¾ˆé…·</p></li><li><p>Capturing all the value only for the company is not cool. å¤åˆ¶ä»–äººä¸å“­</p></li><li><p>Leadership is cool. å¼•é¢†ä»–äººå¾ˆé…·</p></li><li><p>Conviction is cool. æœ‰åšå®šçš„ä¿¡ä»°å¾ˆé…·</p></li><li><p>Straightforwardness is cool. ç›´ç‡çœŸè¯šå¾ˆé…·</p></li><li><p>Pandering to the crowd is not cool. è¿åˆå¤§ä¼—ä¸é…·</p></li><li><p>Hypocrisy is not cool. è™šå‡ä¸é…·</p></li><li><p>Authenticity is cool. è¯šå®å¾ˆé…·</p></li><li><p>Thinking big is cool. ç€çœ¼é•¿è¿œå¾ˆé…·</p></li><li><p>The unexpected is cool.  æ„æƒ³ä¸åˆ°å¾ˆé…·</p></li><li><p>Missionaries are cool. ä¼ æ•™å£«å¾ˆé…·</p></li><li><p>Mercenaries are not cool. é›‡ä½£å…µä¸é…·</p><p>åŸæ–‡å‚è€ƒ: <a href="https://cunninghamjeff.medium.com/jeff-bezos-985ae6cecbf0">The Jeff Bezos Coolness Hierarchy</a></p></li></ul>]]></content>
    
    
    <summary type="html">The Jeff Bezos Coolness Hierarchy</summary>
    
    
    
    <category term="æ‚è°ˆ" scheme="https://lyblogs.xyz/categories/%E6%9D%82%E8%B0%88/"/>
    
    <category term="é—²èŠ" scheme="https://lyblogs.xyz/categories/%E9%97%B2%E8%81%8A/"/>
    
    
    <category term="é—²èŠ" scheme="https://lyblogs.xyz/tags/%E9%97%B2%E8%81%8A/"/>
    
  </entry>
  
</feed>
